{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _classCallCheck from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  #ratings {\\n    /* display: flex; */\\n  }\\n\\n  #reviewCount {\\n    margin: 0;\\n    font-size: 0.8vw;\\n\\tmargin-left: 1%;\\n\\n\\tdisplay: inline-block;\\n}\\n  }\\n  #card {\\n    text-decoration: none;\\n  }\\n  #description {\\n    margin: 0;\\n    text-decoration: none;\\n    font-size: 1vw;\\n  }\\n  #name {\\n    margin: 0;\\n    text-decoration: none;\\n  }\\n\\n  #link {\\n    text-decoration: none;\\n    color: white;\\n    font-weight: bold;\\n    font-size: 1.1vw;\\n  }\\n  #businessCard {\\n    color: white;\\n    display: flex;\\n    border-radius: 5px;\\n    border: 2px solid #d90007;\\n    width: 93%;\\n    margin-top: 1vh;\\n    margin-left: 3%;\\n    background: linear-gradient(#d90007, #c91400);\\n  }\\n  #infoDiv {\\n    width: 75%;\\n    text-align: left;\\n    margin-left: 3%;\\n    margin-top: 1.5%;\\n  }\\n  .star {\\n    width: 100%;\\n  }\\n  .star-ratings {\\n    width: 7vw;\\n  }\\n  .spinner {\\n    margin-top: 10vh;\\n  }\\n  #businessPic {\\n    height: 10vh;\\n    width: 4vw;\\n    border-radius: 6%;\\n    margin: 5%;\\n  }\\n  #yelpPic {\\n    padding-bottom: 2%;\\n    width: 34%;\\n    padding-top: 1%;\\n    padding-top: 3%;\\n  }\\n  #yelpResults {\\n    overflow: scroll;\\n    height: 84%;\\n    width: 100%;\\n    margin-top: 1%;\\n  }\\n  #backgroundPic {\\n    margin-left: 2%;\\n    margin-right: 2%;\\n    background-size: cover;\\n    border-radius: 15px;\\n    height: 30vh;\\n  }\\n  #searchButton {\\n    background: linear-gradient(#d90007, #c91400);\\n    width: 12%;\\n    margin-bottom: 0%;\\n    padding: 0%;\\n    border-radius: 2px;\\n  }\\n  #searchYelp {\\n    filter: brightness(0) invert(1);\\n    width: 1em;\\n\\n    padding-left: 5%;\\n    padding-top: 16%;\\n  }\\n\\n  #yelpSearch {\\n    padding-top: 10vh;\\n    height: 83%;\\n    padding-top: 1.2vh;\\n\\ttext-align: center;\\n  }\\n\\n  #inputTitle1 {\\n    padding-top: 1.5%;\\n    padding-bottom: 1.5%;\\n  }\\n\\n  #inputTitle2 {\\n    padding-top: 1.5%;\\n    padding-bottom: 1.5%;\\n  }\\n\\n  .inputTitle2 {\\n    margin: 0;\\n    padding-top: 1.5%;\\n    padding-bottom: 1.5%;\\n    color: #666;\\n    font-weight: 700;\\n  }\\n\\n  #yelp {\\n    height: 32.33vh;\\n    border-radius: 15px;\\n    top: 16.2vh;\\n  }\\n  #inputDiv {\\n    background: #fff;\\n    box-shadow: none;\\n    z-index: 3;\\n    margin: 0 auto;\\n    width: 93.5%;\\n    margin-left: 2.8%;\\n    color: rgba(0, 0, 0, 0.87);\\n    word-wrap: break-word;\\n    outline: none;\\n    display: flex;\\n    flex: 100%;\\n    justify-content: space-between;\\n\\n    font-size: 16px;\\n    padding-left: 1%;\\n    border: none;\\n    border-radius: 2px;\\n  }\\n\\n  #input1 {\\n    border: 0;\\n\\n    width: 35%;\\n    margin-left: 2%;\\n\\tmargin-top: .2vh;\\n  }\\n\\n  #input2 {\\n    border: 0;\\n    margin-left: 2%;\\n    width: 30%;\\n\\tmargin-top: .2vh;\\n  }\\n  #input1:focus {\\n    outline: none;\\n  }\\n  #input2:focus {\\n    outline: none;\\n  }\\n  .pac-container {\\n    border: blue 5px solid !important;\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{Component}from\"react\";import API from\"./utils/API\";import styled from\"styled-components\";import searchLogo from\"./images/Search.1.png\";import Pic1 from\"./images/1.jpg\";import Pic2 from\"./images/2.jpg\";import Pic3 from\"./images/3.jpg\";import Pic4 from\"./images/4.jpg\";import Pic5 from\"./images/5.jpg\";import Pic6 from\"./images/6.jpg\";import Pic7 from\"./images/7.jpg\";import yelpPic from\"./images/Yelp.png\";import Geocode from\"react-geocode\";import ClipLoader from\"react-spinners/ClipLoader\";import StarRatings from\"react-star-ratings\";var Yelp=/*#__PURE__*/function(_Component){_inherits(Yelp,_Component);var _super=_createSuper(Yelp);function Yelp(){var _this;_classCallCheck(this,Yelp);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={businesses:[],searchTerm:\"\",searchCity:\"\",yelpPics:[Pic1,Pic2,Pic3,Pic4,Pic5,Pic6,Pic7],picNumber:0,searched:false,background:{backgroundImage:\"none\",marginLeft:0,marginRight:0},backgroundColor:{background:\"linear-gradient(#d90007, #c91400)\"},loading:false,userLoc:\"\"};_this.handleChangeTerm=function(event){_this.setState({searchTerm:event.target.value});};_this.handleChangeCity=function(event){_this.setState({searchCity:event.target.value});};_this.handleKeyPress=function(event){if(event.key===\"Enter\"){_this.searched();_this.setState({searched:true,loading:true});}};_this.getUserLocation=function(i){if(i){i.preventDefault();}navigator.geolocation.getCurrentPosition(function(position){Geocode.setApiKey(\"AIzaSyCwpDhxfo8aygIX4ZrfdC4NULGK8KKteVc\");Geocode.setLanguage(\"en\");Geocode.setRegion(\"es\");Geocode.enableDebug();Geocode.fromLatLng(position.coords.latitude,position.coords.longitude).then(function(response){var address=response.results[0].formatted_address;var userCity=address.split(\",\",3);var city=userCity[1];_this.setState({searchCity:city,userLoc:city},function(){});},function(error){console.error(error);_this.setState({apiError:true});});});};_this.retrieveBusinesses=function(){API.getYelpSearch(_this.state.searchTerm,_this.state.searchCity).then(function(res){return _this.setState({businesses:res.data,loading:false});}).catch(function(err){return console.log(err);});};_this.getYelpPic=function(){var half=Math.floor(Math.random()*2);var number=0;if(half!=1){number=Math.floor(Math.random()*7);}else{number=0;}_this.setState({background:{backgroundImage:\"url(\".concat(_this.state.yelpPics[number],\")\")}});};_this.noResults=function(){_this.setState({background:{backgroundImage:\"none\"},searched:true,loading:true,backgroundColor:{background:\"#f5f5f5\"}});setTimeout(function(){_this.retrieveBusinesses();},1000);};_this.searched=function(){if(_this.state.searchTerm.length>0&&_this.state.searchCity.length>0){_this.setState({background:{backgroundImage:\"none\"},searched:true,loading:true,backgroundColor:{background:\"#f5f5f5\"}});_this.retrieveBusinesses();}else{if(_this.state.userLoc.length<1){_this.setState({searchCity:\"San Francisco\"});}if(_this.state.searchTerm.length>0){_this.setState({searchCity:_this.state.userLoc});}if(_this.state.searchCity.length>0){_this.setState({searchTerm:\"coffee\"});}_this.noResults();}};return _this;}_createClass(Yelp,[{key:\"componentDidMount\",value:function componentDidMount(){this.getYelpPic();this.getUserLocation();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Style,null,/*#__PURE__*/React.createElement(\"div\",{id:\"yelp\",style:this.state.backgroundColor},/*#__PURE__*/React.createElement(\"div\",{id:\"yelpSearch\"},/*#__PURE__*/React.createElement(\"div\",{id:\"backgroundPic\",style:this.state.background},!this.state.searched?/*#__PURE__*/React.createElement(\"img\",{src:yelpPic,id:\"yelpPic\"}):/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(\"div\",{id:\"inputDiv\"},/*#__PURE__*/React.createElement(\"div\",{id:\"inputTitle1\"},/*#__PURE__*/React.createElement(\"p\",{className:\"inputTitle2\"},\"Find\")),/*#__PURE__*/React.createElement(\"input\",{onKeyPress:this.handleKeyPress,id:\"input1\",placeholder:\"coffee, takeout, etc..\",value:this.state.searchTerm,onChange:this.handleChangeTerm,onFocus:function onFocus(e){_this2.setState({searchTerm:\"\"});}}),/*#__PURE__*/React.createElement(\"div\",{id:\"inputTitle2\"},/*#__PURE__*/React.createElement(\"p\",{className:\"inputTitle2\"},\"Near\")),/*#__PURE__*/React.createElement(\"input\",{onKeyPress:this.handleKeyPress,id:\"input2\",placeholder:this.state.searchCity,value:this.state.searchCity,onChange:this.handleChangeCity,types:[\"(cities)\"],componentRestrictions:{country:\"us\"}}),/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(e){_this2.searched();_this2.setState({searched:true,loading:true});},id:\"searchButton\"},/*#__PURE__*/React.createElement(\"img\",{id:\"searchYelp\",src:searchLogo}))),this.state.searched?/*#__PURE__*/React.createElement(\"div\",{id:\"yelpResults\"},this.state.businesses.length!=0?this.state.loading?/*#__PURE__*/React.createElement(\"p\",{className:\"spinner\"},/*#__PURE__*/React.createElement(ClipLoader,{size:30,color:\"#d90007\"})):this.state.businesses.map(function(business){return/*#__PURE__*/React.createElement(\"a\",{target:\"_blank\",id:\"card\",href:business.url},/*#__PURE__*/React.createElement(\"div\",{id:\"businessCard\"},/*#__PURE__*/React.createElement(\"div\",{id:\"imgDiv\"},/*#__PURE__*/React.createElement(\"img\",{id:\"businessPic\",src:business.imgurl})),/*#__PURE__*/React.createElement(\"div\",{id:\"infoDiv\"},/*#__PURE__*/React.createElement(\"p\",{id:\"name\"},/*#__PURE__*/React.createElement(\"a\",{id:\"link\",href:business.url},business.name)),/*#__PURE__*/React.createElement(\"div\",{id:\"ratings\"},/*#__PURE__*/React.createElement(StarRatings,{rating:business.rating,starRatedColor:\"#dfe1e6\",numberOfStars:5,name:\"rating\",starDimension:\"2vh\",starSpacing:\"0.7%\",className:\"star\",starEmptyColor:\"white\"}),/*#__PURE__*/React.createElement(\"p\",{id:\"reviewCount\"},business.reviewcount)),/*#__PURE__*/React.createElement(\"p\",{id:\"description\"},business.categories[0].title))));}):this.state.loading?/*#__PURE__*/React.createElement(\"p\",{className:\"spinner\"},/*#__PURE__*/React.createElement(ClipLoader,{size:30,color:\"#d90007\"})):/*#__PURE__*/React.createElement(\"p\",null,\" no results \")):/*#__PURE__*/React.createElement(\"div\",null)))));}}]);return Yelp;}(Component);var Style=styled.section(_templateObject());export default Yelp;","map":{"version":3,"sources":["/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/src/Yelp.js"],"names":["React","Component","API","styled","searchLogo","Pic1","Pic2","Pic3","Pic4","Pic5","Pic6","Pic7","yelpPic","Geocode","ClipLoader","StarRatings","Yelp","state","businesses","searchTerm","searchCity","yelpPics","picNumber","searched","background","backgroundImage","marginLeft","marginRight","backgroundColor","loading","userLoc","handleChangeTerm","event","setState","target","value","handleChangeCity","handleKeyPress","key","getUserLocation","i","preventDefault","navigator","geolocation","getCurrentPosition","position","setApiKey","setLanguage","setRegion","enableDebug","fromLatLng","coords","latitude","longitude","then","response","address","results","formatted_address","userCity","split","city","error","console","apiError","retrieveBusinesses","getYelpSearch","res","data","catch","err","log","getYelpPic","half","Math","floor","random","number","noResults","setTimeout","length","e","country","map","business","url","imgurl","name","rating","reviewcount","categories","title","Style","section"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"./utils/API\";\nimport styled from \"styled-components\";\nimport searchLogo from \"./images/Search.1.png\";\nimport Pic1 from \"./images/1.jpg\";\nimport Pic2 from \"./images/2.jpg\";\nimport Pic3 from \"./images/3.jpg\";\nimport Pic4 from \"./images/4.jpg\";\nimport Pic5 from \"./images/5.jpg\";\nimport Pic6 from \"./images/6.jpg\";\nimport Pic7 from \"./images/7.jpg\";\nimport yelpPic from \"./images/Yelp.png\";\nimport Geocode from \"react-geocode\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport StarRatings from \"react-star-ratings\";\n\nclass Yelp extends Component {\n  state = {\n    businesses: [],\n    searchTerm: \"\",\n    searchCity: \"\",\n    yelpPics: [Pic1, Pic2, Pic3, Pic4, Pic5, Pic6, Pic7],\n    picNumber: 0,\n    searched: false,\n    background: {\n      backgroundImage: \"none\",\n      marginLeft: 0,\n      marginRight: 0\n    },\n    backgroundColor: {\n      background: \"linear-gradient(#d90007, #c91400)\"\n    },\n    loading: false,\n    userLoc: \"\"\n  };\n\n  handleChangeTerm = event => {\n    this.setState({ searchTerm: event.target.value });\n  };\n  handleChangeCity = event => {\n    this.setState({ searchCity: event.target.value });\n  };\n\n  handleKeyPress = event => {\n    if (event.key === \"Enter\") {\n      this.searched();\n      this.setState({\n        searched: true,\n        loading: true\n      });\n    }\n  };\n\n  getUserLocation = i => {\n    if (i) {\n      i.preventDefault();\n    }\n\n    navigator.geolocation.getCurrentPosition(position => {\n      Geocode.setApiKey(\n        \"AIzaSyCwpDhxfo8aygIX4ZrfdC4NULGK8KKteVc\"\n      );\n      Geocode.setLanguage(\"en\");\n      Geocode.setRegion(\"es\");\n      Geocode.enableDebug();\n      Geocode.fromLatLng(\n        position.coords.latitude,\n        position.coords.longitude\n      ).then(\n        response => {\n          const address =\n            response.results[0].formatted_address;\n          const userCity = address.split(\",\", 3);\n\n          const city = userCity[1];\n\n          this.setState(\n            {\n              searchCity: city,\n              userLoc: city\n            },\n            () => {}\n          );\n        },\n        error => {\n          console.error(error);\n          this.setState({ apiError: true });\n        }\n      );\n    });\n  };\n\n  retrieveBusinesses = () => {\n    API.getYelpSearch(\n      this.state.searchTerm,\n      this.state.searchCity\n    )\n      .then(res =>\n        this.setState({\n          businesses: res.data,\n          loading: false\n        })\n      )\n      .catch(err => console.log(err));\n  };\n\n  getYelpPic = () => {\n    const half = Math.floor(Math.random() * 2);\n    let number = 0;\n\n    if (half != 1) {\n      number = Math.floor(Math.random() * 7);\n    } else {\n      number = 0;\n    }\n\n    this.setState({\n      background: {\n        backgroundImage: `url(${this.state.yelpPics[number]})`\n      }\n    });\n  };\n\n  noResults = () => {\n    this.setState({\n      background: {\n        backgroundImage: \"none\"\n      },\n      searched: true,\n      loading: true,\n      backgroundColor: {\n        background: \"#f5f5f5\"\n      }\n    });\n\n    setTimeout(() => {\n      this.retrieveBusinesses();\n    }, 1000);\n  };\n\n  searched = () => {\n    if (\n      this.state.searchTerm.length > 0 &&\n      this.state.searchCity.length > 0\n    ) {\n      this.setState({\n        background: {\n          backgroundImage: \"none\"\n        },\n        searched: true,\n        loading: true,\n        backgroundColor: {\n          background: \"#f5f5f5\"\n        }\n      });\n      this.retrieveBusinesses();\n    } else {\n      if (this.state.userLoc.length < 1) {\n        this.setState({\n          searchCity: \"San Francisco\"\n        });\n      }\n      if (this.state.searchTerm.length > 0) {\n        this.setState({\n          searchCity: this.state.userLoc\n        });\n      }\n      if (this.state.searchCity.length > 0) {\n        this.setState({\n          searchTerm: \"coffee\"\n        });\n      }\n      this.noResults();\n    }\n  };\n\n  componentDidMount() {\n    this.getYelpPic();\n    this.getUserLocation();\n  }\n\n  render() {\n    return (\n      <Style>\n        <div id=\"yelp\" style={this.state.backgroundColor}>\n          <div id=\"yelpSearch\">\n            <div\n              id=\"backgroundPic\"\n              style={this.state.background}\n            >\n              {!this.state.searched ? (\n                <img src={yelpPic} id=\"yelpPic\" />\n              ) : (\n                <div></div>\n              )}\n\n              <div id=\"inputDiv\">\n                <div id=\"inputTitle1\">\n                  <p className=\"inputTitle2\">Find</p>\n                </div>\n                <input\n                  onKeyPress={this.handleKeyPress}\n                  id=\"input1\"\n                  placeholder=\"coffee, takeout, etc..\"\n                  value={this.state.searchTerm}\n                  onChange={this.handleChangeTerm}\n                  onFocus={e => {\n                    this.setState({ searchTerm: \"\" });\n                  }}\n                ></input>\n                <div id=\"inputTitle2\">\n                  <p className=\"inputTitle2\">Near</p>\n                </div>\n                <input\n                  onKeyPress={this.handleKeyPress}\n                  id=\"input2\"\n                  placeholder={this.state.searchCity}\n                  value={this.state.searchCity}\n                  onChange={this.handleChangeCity}\n                  types={[\"(cities)\"]}\n                  componentRestrictions={{ country: \"us\" }}\n                ></input>\n\n                <div\n                  onClick={e => {\n                    this.searched();\n                    this.setState({\n                      searched: true,\n                      loading: true\n                    });\n                  }}\n                  id=\"searchButton\"\n                >\n                  <img id=\"searchYelp\" src={searchLogo} />\n                </div>\n              </div>\n\n              {this.state.searched ? (\n                <div id=\"yelpResults\">\n                  {this.state.businesses.length != 0 ? (\n                    this.state.loading ? (\n                      <p className=\"spinner\">\n                        <ClipLoader\n                          size={30}\n                          color={\"#d90007\"}\n                        />\n                      </p>\n                    ) : (\n                      this.state.businesses.map(\n                        business => (\n                          <a\n                            target=\"_blank\"\n                            id=\"card\"\n                            href={business.url}\n                          >\n                            <div id=\"businessCard\">\n                              <div id=\"imgDiv\">\n                                <img\n                                  id=\"businessPic\"\n                                  src={business.imgurl}\n                                />\n                              </div>\n                              <div id=\"infoDiv\">\n                                <p id=\"name\">\n                                  <a\n                                    id=\"link\"\n                                    href={business.url}\n                                  >\n                                    {business.name}\n                                  </a>\n                                </p>\n                                <div id=\"ratings\">\n                                  <StarRatings\n                                    rating={business.rating}\n                                    starRatedColor=\"#dfe1e6\"\n                                    numberOfStars={5}\n                                    name=\"rating\"\n                                    starDimension=\"2vh\"\n                                    starSpacing=\"0.7%\"\n                                    className=\"star\"\n                                    starEmptyColor=\"white\"\n                                  />\n                                  <p id=\"reviewCount\">\n                                    {business.reviewcount}\n                                  </p>\n                                </div>\n                                <p id=\"description\">\n                                  {\n                                    business.categories[0]\n                                      .title\n                                  }\n                                </p>\n                              </div>\n                            </div>\n                          </a>\n                        )\n                      )\n                    )\n                  ) : this.state.loading ? (\n                    <p className=\"spinner\">\n                      <ClipLoader\n                        size={30}\n                        color={\"#d90007\"}\n                      />\n                    </p>\n                  ) : (\n                    <p> no results </p>\n                  )}\n                </div>\n              ) : (\n                <div></div>\n              )}\n            </div>\n          </div>\n        </div>\n      </Style>\n    );\n  }\n}\nconst Style = styled.section`\n  #ratings {\n    /* display: flex; */\n  }\n\n  #reviewCount {\n    margin: 0;\n    font-size: 0.8vw;\n\tmargin-left: 1%;\n\n\tdisplay: inline-block;\n}\n  }\n  #card {\n    text-decoration: none;\n  }\n  #description {\n    margin: 0;\n    text-decoration: none;\n    font-size: 1vw;\n  }\n  #name {\n    margin: 0;\n    text-decoration: none;\n  }\n\n  #link {\n    text-decoration: none;\n    color: white;\n    font-weight: bold;\n    font-size: 1.1vw;\n  }\n  #businessCard {\n    color: white;\n    display: flex;\n    border-radius: 5px;\n    border: 2px solid #d90007;\n    width: 93%;\n    margin-top: 1vh;\n    margin-left: 3%;\n    background: linear-gradient(#d90007, #c91400);\n  }\n  #infoDiv {\n    width: 75%;\n    text-align: left;\n    margin-left: 3%;\n    margin-top: 1.5%;\n  }\n  .star {\n    width: 100%;\n  }\n  .star-ratings {\n    width: 7vw;\n  }\n  .spinner {\n    margin-top: 10vh;\n  }\n  #businessPic {\n    height: 10vh;\n    width: 4vw;\n    border-radius: 6%;\n    margin: 5%;\n  }\n  #yelpPic {\n    padding-bottom: 2%;\n    width: 34%;\n    padding-top: 1%;\n    padding-top: 3%;\n  }\n  #yelpResults {\n    overflow: scroll;\n    height: 84%;\n    width: 100%;\n    margin-top: 1%;\n  }\n  #backgroundPic {\n    margin-left: 2%;\n    margin-right: 2%;\n    background-size: cover;\n    border-radius: 15px;\n    height: 30vh;\n  }\n  #searchButton {\n    background: linear-gradient(#d90007, #c91400);\n    width: 12%;\n    margin-bottom: 0%;\n    padding: 0%;\n    border-radius: 2px;\n  }\n  #searchYelp {\n    filter: brightness(0) invert(1);\n    width: 1em;\n\n    padding-left: 5%;\n    padding-top: 16%;\n  }\n\n  #yelpSearch {\n    padding-top: 10vh;\n    height: 83%;\n    padding-top: 1.2vh;\n\ttext-align: center;\n  }\n\n  #inputTitle1 {\n    padding-top: 1.5%;\n    padding-bottom: 1.5%;\n  }\n\n  #inputTitle2 {\n    padding-top: 1.5%;\n    padding-bottom: 1.5%;\n  }\n\n  .inputTitle2 {\n    margin: 0;\n    padding-top: 1.5%;\n    padding-bottom: 1.5%;\n    color: #666;\n    font-weight: 700;\n  }\n\n  #yelp {\n    height: 32.33vh;\n    border-radius: 15px;\n    top: 16.2vh;\n  }\n  #inputDiv {\n    background: #fff;\n    box-shadow: none;\n    z-index: 3;\n    margin: 0 auto;\n    width: 93.5%;\n    margin-left: 2.8%;\n    color: rgba(0, 0, 0, 0.87);\n    word-wrap: break-word;\n    outline: none;\n    display: flex;\n    flex: 100%;\n    justify-content: space-between;\n\n    font-size: 16px;\n    padding-left: 1%;\n    border: none;\n    border-radius: 2px;\n  }\n\n  #input1 {\n    border: 0;\n\n    width: 35%;\n    margin-left: 2%;\n\tmargin-top: .2vh;\n  }\n\n  #input2 {\n    border: 0;\n    margin-left: 2%;\n    width: 30%;\n\tmargin-top: .2vh;\n  }\n  #input1:focus {\n    outline: none;\n  }\n  #input2:focus {\n    outline: none;\n  }\n  .pac-container {\n    border: blue 5px solid !important;\n  }\n`;\nexport default Yelp;\n"]},"metadata":{},"sourceType":"module"}