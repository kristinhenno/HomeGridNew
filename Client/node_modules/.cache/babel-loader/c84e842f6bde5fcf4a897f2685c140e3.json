{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _classCallCheck from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  #buttons {\\n    background: #fff;\\n    border-radius: 8px;\\n    /* box-shadow: 0 2px 10px 0 rgba(0,0,0,0.2); */\\n  }\\n  #topRight {\\n    margin-right: 1vh;\\n  }\\n  #blank {\\n    position: absolute;\\n  }\\n\\n  .LoginButton button {\\n    /* width: 41%;\\nfont-size: 11px; */\\n  }\\n\\n  #logoutbutton {\\n    /* background-color: #919191; */\\n    color: #919191;\\n    border: none;\\n    // border-radius: 0px 0px 8px 8px;\\n    padding-bottom: 1%;\\n    font-size: 0.9em;\\n    /* font-weight: 600; */\\n    margin-top: 10%;\\n    position: absolute;\\n    z-index: 1000000;\\n    right: 1%;\\n    width: 23.5%;\\n    text-align: right;\\n    color: #5f6368;\\n    line-height: 16px;\\n    padding-top: 0.8%;\\n    box-shadow: 0 2px 2px rgba(0, 0, 0, 0.2);\\n    font-weight: 500;\\n    background-color:white;\\n  }\\n\\n  #preferences {\\n    /* background-color: #919191; */\\n    border: none;\\n\\n    padding-top: 1%;\\n    padding-bottom: 1%;\\n    font-size: 0.9em;\\n    /* font-weight: 600; */\\n    margin-top: 5%;\\n    position: absolute;\\n    z-index: 1000000;\\n    right: 1%;\\n    width: 23.5%;\\n    text-align: right;\\n    color: #5f6368;\\n    line-height: 16px;\\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2);\\n    font-weight: 700;\\n    // color: royalblue;\\n    background: white;\\n  }\\n  #widgets {\\n    /* background-color: #919191; */\\n    border: none;\\n    // border-radius: 8px 8px 0px 0px;\\n    padding-top: 1%;\\n    padding-bottom: 1%;\\n    font-size: 0.9em;\\n    /* font-weight: 600; */\\n    margin-top: 0%;\\n    position: absolute;\\n    z-index: 1000000;\\n    right: 1%;\\n    width: 23.5%;\\n    text-align: right;\\n    color: #5f6368;\\n    line-height: 16px;\\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2);\\n    font-weight: 700;\\n    // color: royalblue;\\n    background: white;\\n  }\\n  #widgetSelected {\\n    background: white;\\n    border: none;\\n    // border-radius: 8px 8px 0px 0px;\\n    padding-top: 1%;\\n    padding-bottom: 1%;\\n    font-size: 0.9em;\\n     font-weight: 900; \\n    margin-top: 0%;\\n    position: absolute;\\n    z-index: 1000000;\\n    right: 1%;\\n    width: 23.5%;\\n    text-align: right;\\n    color: #5f6368;\\n    line-height: 16px;\\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2);\\n    font-weight: 500;\\n    /* color: slateblue; */\\n  }\\n\\n  #preferenceSelected {\\n    background: white;\\n    border: none;\\n\\n    padding-top: 1%;\\n    padding-bottom: 1%;\\n    font-size: 0.9em;\\n    /* font-weight: 600; */\\n    margin-top: 5%;\\n    position: absolute;\\n    z-index: 1000000;\\n    right: 1%;\\n    width: 23.5%;\\n    text-align: right;\\n \\n    line-height: 16px;\\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2);\\n    font-weight: 500;\\n    color: #919191;\\n  }\\n\\n  #preferences:focus {\\n    outline: none;\\n  }\\n  #widgets:focus {\\n    outline: none;\\n  }\\n\\n  #logoutbutton:hover {\\n    cursor: pointer;\\n    background-color: #ededed;\\n  }\\n\\n  #widgets:hover {\\n    cursor: pointer;\\n    background-color: #ededed;\\n  }\\n\\n  #preferenceSelected:hover {\\n    cursor: pointer;\\n    background-color: #ededed;\\n  }\\n\\n  #widgetSelected:hover {\\n    cursor: pointer;\\n    background-color: #ededed;\\n  }\\n\\n  #preferences:hover {\\n    cursor: pointer;\\n    background-color: #ededed;\\n  }\\n\\n  #email1 {\\n    display: inline-block;\\n    margin: 0;\\n  }\\n\\n  #uparrow {\\n    display: inline-block;\\n    margin: 0;\\n    font-size: 0.8em;\\n    z-index: 20;\\n    width: 1.7vh;\\n\\n    margin-left: 0.5vh;\\n  }\\n\\n  #error {\\n    margin: 0;\\n    font-size: 0.7em;\\n    text-align: center;\\n    margin-top: 1.5vh;\\n    color: rgb(207, 74, 34);\\n  }\\n\\n  #loadingDiv {\\n    padding-top: 15.33vh;\\n    text-align: center;\\n    background-color: white;\\n    z-index: 5;\\n  }\\n\\n  #email {\\n    float: right;\\n    /* margin-top: -5%; */\\n    margin-top: 1%;\\n\\n    color: #666;\\n    font-size: 0.75em;\\n    text-align: right;\\n    font-weight: 500;\\n  }\\n\\n  #loginBoxBorder {\\n    border-radius: 15px;\\n    border: 1px solid #dfe1e5;\\n    background-color: white;\\n    height: 32.33vh;\\n    overflow: scroll;\\n  }\\n\\n  #signUpBox {\\n    text-align: center;\\n    font-size: 0.8em;\\n    margin-top: 1%;\\n  }\\n\\n  #account {\\n    display: inline-block;\\n    color: rgba(0, 0, 0, 0.54);\\n    font-size: 0.9em;\\n    margin-top: 1vh;\\n  }\\n\\n  #accountBold {\\n    display: inline-block;\\n    font-weight: bold;\\n    color: rgba(0, 0, 0, 0.54);\\n    text-decoration: none;\\n    font-size: 0.9em;\\n    margin-top: 1vh;\\n  }\\n\\n  #accountBold:hover {\\n    cursor: pointer;\\n  }\\n  #arrow {\\n    width: 60%;\\n    padding: 5%;\\n    padding-top: 10%;\\n    padding-left: 7%;\\n  }\\n  #go {\\n    margin-top: 4%;\\n    background-color: #dfe1e5;\\n    color: white;\\n    border: 0;\\n    border-radius: 3px;\\n    width: 8%;\\n    margin-bottom: 4%;\\n  }\\n\\n  #go:hover {\\n    cursor: pointer;\\n  }\\n  #emailLogin {\\n    border: 0;\\n    margin-left: 2%;\\n    margin-top: 0.2vh;\\n    padding-top: 1vh;\\n    width: 90%;\\n  }\\n  #emailLogin:focus {\\n    outline: none;\\n  }\\n\\n  #passwordLogin:focus {\\n    outline: none;\\n  }\\n\\n  #passwordLogin {\\n    border: 0;\\n    padding-top: 2vh;\\n    margin-left: 2%;\\n    margin-top: 0.2vh;\\n    width: 90%;\\n  }\\n  #emailLogin1 {\\n    border: 0;\\n    margin-left: 2%;\\n    margin-top: 0.2vh;\\n    padding-top: 2vh;\\n    width: 90%;\\n  }\\n  #emailLogin1:focus {\\n    outline: none;\\n  }\\n\\n  #passwordLogin1:focus {\\n    outline: none;\\n  }\\n\\n  #passwordLogin1 {\\n    border: 0;\\n    padding-top: 2vh;\\n    margin-left: 2%;\\n    margin-top: 0.2vh;\\n    width: 90%;\\n  }\\n  #loginBox {\\n    display: flex;\\n    justify-content: center;\\n    margin-top: 0.5vh;\\n  }\\n  .LoginButton {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    margin-top: 4.5vh;\\n  }\\n  #facebook {\\n    background-color: #4267b2;\\n    color: white;\\n    display: inline-flex;\\n    align-items: center;\\n    padding: 0;\\n    box-shadow: rgba(0, 0, 0, 0.24) 0px 2.2px 2px 0px,\\n      rgba(0, 0, 0, 0.24) 0px 0px 1px 0px;\\n    border: 2.2px solid transparent;\\n    margin-right: 3%;\\n    /* display: block; */\\n  }\\n  #google {\\n    margin-left: 3%;\\n  }\\n  #fblogin {\\n    font-family: Helvetica, Arial, sans-serif;\\n    font-weight: bold;\\n    font-size: 14px;\\n    padding: 11px 10px 11px 0px;\\n  }\\n  #facebookLogo {\\n    height: 19px;\\n    width: 19px;\\n    padding: 10px;\\n    margin-right: 10px;\\n    /* display: inline-block; */\\n  }\\n\\n  #regularLogin {\\n    display: block;\\n    border-top: 1px solid #dfe1e5;\\n    width: 70%;\\n    display: block;\\n    border-bottom: 1px solid #dfe1e5;\\n    padding-bottom: 1vh;\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React from\"react\";import styled from\"styled-components\";import API from\"./utils/API\";import{getFromStorage,setInStorage}from\"./utils/storage\";import GoogleLogin from\"react-google-login\";import Settings from\"./Settings\";import Checkout from\"./Checkout\";import Preferences from\"./Preferences\";import Arrow from\"./images/arrow.png\";import up from\"./images/up.png\";import down from\"./images/down.png\";import{LoaderDots}from\"@thumbtack/thumbprint-react\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={user:{email:\"\",password:\"\",username:\"\"},userId:\"\",loggedIn:false,token:\"\",isLoading:true,email:\"\",signUp:false,needRefresh:false,error:\"\",showLogout:false,payment:false,showPreferences:SVGComponentTransferFunctionElement};_this.handleEmailChange=function(event){_this.setState({user:{email:event.target.value,password:_this.state.user.password}});event.preventDefault();};_this.handlePasswordChange=function(event){_this.setState({user:{email:_this.state.user.email,password:event.target.value}});event.preventDefault();};_this.handleEmailChange1=function(event){_this.setState({user:{email:event.target.value,username:event.target.value,password:_this.state.user.password}});event.preventDefault();};_this.handlePasswordChange1=function(event){_this.setState({user:{email:_this.state.user.email,username:_this.state.user.username,password:event.target.value}});event.preventDefault();};_this.login=function(i){if(i){i.preventDefault();}if(_this.state.user.password===\"\"){_this.setState({error:\"Please enter password.\"});}if(_this.state.user.email===\"\"){_this.setState({error:\"Must enter email.\"});}API.login(_this.state.user).then(function(res){if(res.data.success){setInStorage(\"the_main_app\",{token:res.data.token});_this.setState({needRefresh:true,isLoading:true,token:res.data.token,loggedIn:true});_this.verify();}if(res.data.message===\"Error: Invalid Password\"){_this.setState({error:\"Invalid password.\"});}if(res.data.message===\"Error: Invalid\"){_this.setState({error:\"User not found.\"});}}).catch(function(err){return console.log(err);});};_this.retrieveGrid=function(i){if(i){i.preventDefault();}var id=_this.state.userId;API.retrieve(id).then(function(res){_this.setState({email:res.data.email,isLoading:false});});if(_this.state.needRefresh){_this.refreshPage();}};_this.logout=function(i){if(i){i.preventDefault();}API.logout(_this.state.token).then(function(res){if(res){localStorage.removeItem(\"the_main_app\");_this.setState({token:\"\",isLoading:false});}else{_this.setState({isLoading:false});}_this.refreshPage();}).catch(function(err){return console.log(err);});};_this.verify=function(i){if(i){i.preventDefault();}var obj=getFromStorage(\"the_main_app\");if(obj&&obj.token){var token=obj.token;// Verify token\nAPI.verify(token).then(function(res){if(res){if(_this.state.payment){_this.setState({token:token});}else{_this.setState({token:token,loggedIn:true,userId:res.data.userId,isLoading:true});}}else{_this.setState({isLoading:true});}_this.retrieveGrid();});}else{_this.setState({isLoading:false});}};_this.checkCreds=function(i){if(i){i.preventDefault();}if(_this.state.user.password===\"\"){_this.setState({error:\"Please enter password.\"});}if(_this.state.user.email===\"\"){_this.setState({error:\"Must enter email.\"});}if(_this.state.user.password.length<6){_this.setState({error:\"Pasword must be at least 6 characters\"});}if(/\\S+@\\S+\\.\\S+/.test(_this.state.user.email)===false){_this.setState({error:\"must be a valid email\"});}else{_this.setCreds();_this.setState({payment:true});}};_this.login=function(i){if(i){i.preventDefault();}if(_this.state.user.password===\"\"){_this.setState({error:\"Please enter password.\"});}if(_this.state.user.email===\"\"){_this.setState({error:\"Must enter email.\"});}API.login(_this.state.user).then(function(res){// console.log(res);\nif(res.data.success){setInStorage(\"the_main_app\",{token:res.data.token});_this.setState({needRefresh:true,isLoading:true,token:res.data.token,loggedIn:true});_this.verify();}if(res.data.message===\"Error: Invalid Password\"){_this.setState({error:\"Invalid password.\"});}if(res.data.message===\"Error: Invalid\"){_this.setState({error:\"User not found.\"});}}).catch(function(err){return console.log(err);});};_this.responseGoogle=function(response){_this.setState({user:{email:response.profileObj.email,password:response.googleId// username: response.googleId\n},needRefresh:true});_this.login();};_this.responseGoogleSignUp=function(response){_this.setState({user:{email:response.profileObj.email,password:response.googleId,username:response.googleId}// needRefresh: true\n});_this.setCreds();_this.setState({payment:true});// this.setState({\n//   payment:true\n// });\n};_this.changeLogout=function(){if(_this.state.showLogout){_this.setState({showLogout:false});}else{_this.setState({showLogout:true});}};return _this;}_createClass(Login,[{key:\"refreshPage\",value:function refreshPage(){window.location.reload(false);this.setState({needRefresh:false});}},{key:\"setCreds\",value:function setCreds(){setInStorage(\"the_main_app\",{user:this.state.user});}},{key:\"componentDidMount\",value:function componentDidMount(){this.verify();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Style,{className:\"canDrag\"},this.state.isLoading?/*#__PURE__*/React.createElement(\"div\",{id:\"loadingDiv\"},/*#__PURE__*/React.createElement(LoaderDots,{id:\"loadingDots\",size:\"small\",theme:\"muted\"})):/*#__PURE__*/React.createElement(\"div\",{id:\"loginBoxBorder\"},this.state.loggedIn?/*#__PURE__*/React.createElement(\"div\",{id:\"email\"},/*#__PURE__*/React.createElement(\"div\",{id:\"topRight\"},/*#__PURE__*/React.createElement(\"p\",{id:\"email1\"},this.state.email),this.state.showLogout?/*#__PURE__*/React.createElement(\"img\",{id:\"uparrow\",onClick:function onClick(e){_this2.changeLogout();},src:up}):/*#__PURE__*/React.createElement(\"img\",{id:\"uparrow\",onClick:function onClick(e){_this2.changeLogout();},src:down})),this.state.showLogout?/*#__PURE__*/React.createElement(\"div\",{id:\"buttons\"},/*#__PURE__*/React.createElement(\"button\",{id:this.state.showPreferences?\"widgets\":\"widgetSelected\",onClick:function onClick(e){_this2.setState({showPreferences:true,showLogout:false});}},\"Preferences\"),/*#__PURE__*/React.createElement(\"button\",{id:this.state.showPreferences?\"preferenceSelected\":\"preferences\",onClick:function onClick(e){_this2.setState({showPreferences:false,showLogout:false});}},\"Widgets\"),/*#__PURE__*/React.createElement(\"button\",{id:\"logoutbutton\",onClick:function onClick(e){_this2.logout();}},\"Log out\")):/*#__PURE__*/React.createElement(\"p\",{id:\"blank\"}),this.state.showPreferences?/*#__PURE__*/React.createElement(Preferences,null):/*#__PURE__*/React.createElement(Settings,null)):this.state.signUp?!this.state.payment?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"LoginButton\"},/*#__PURE__*/React.createElement(GoogleLogin,{clientId:\"696659809470-2r6j4siq7i296mrufjq4glm7r8lqul0p.apps.googleusercontent.com\",buttonText:\"SIGN UP WITH GOOGLE\",id:\"google\",onSuccess:this.responseGoogleSignUp,onFailure:this.responseGoogleSignUp})),/*#__PURE__*/React.createElement(\"p\",{id:\"error\"},\"\\xA0\",this.state.error),/*#__PURE__*/React.createElement(\"div\",{id:\"loginBox\"},/*#__PURE__*/React.createElement(\"div\",{id:\"regularLogin\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{id:\"emailLogin\",placeholder:\"email\",onChange:this.handleEmailChange1})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{onChange:this.handlePasswordChange1,id:\"passwordLogin\",placeholder:\"password\",type:\"password\"}))),/*#__PURE__*/React.createElement(\"button\",{id:\"go\",onClick:function onClick(e){// this.signUp();\n_this2.checkCreds();// this.setCreds();\n// SIGNUP\n}},/*#__PURE__*/React.createElement(\"img\",{src:Arrow,id:\"arrow\"}))),/*#__PURE__*/React.createElement(\"div\",{id:\"signUpBox\"},/*#__PURE__*/React.createElement(\"p\",{id:\"account\"},\"Go back to \"),\" \",/*#__PURE__*/React.createElement(\"p\",{id:\"accountBold\",onClick:function onClick(e){return _this2.setState({signUp:false});}},\"login\")))):/*#__PURE__*/React.createElement(Checkout,null):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"LoginButton\"},/*#__PURE__*/React.createElement(GoogleLogin,{clientId:\"696659809470-2r6j4siq7i296mrufjq4glm7r8lqul0p.apps.googleusercontent.com\",buttonText:\"LOG IN WITH GOOGLE\",id:\"google\",onSuccess:this.responseGoogle,onFailure:this.responseGoogle})),/*#__PURE__*/React.createElement(\"p\",{id:\"error\"},\"\\xA0\",this.state.error),/*#__PURE__*/React.createElement(\"div\",{id:\"loginBox\"},/*#__PURE__*/React.createElement(\"div\",{id:\"regularLogin\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{id:\"emailLogin\",placeholder:\"email\",onChange:this.handleEmailChange})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{onChange:this.handlePasswordChange,id:\"passwordLogin\",placeholder:\"password\",type:\"password\"}))),/*#__PURE__*/React.createElement(\"button\",{id:\"go\",onClick:function onClick(e){_this2.login();}},/*#__PURE__*/React.createElement(\"img\",{src:Arrow,id:\"arrow\"}))),/*#__PURE__*/React.createElement(\"div\",{id:\"signUpBox\"},/*#__PURE__*/React.createElement(\"p\",{id:\"account\"},\"Don't have an account?\",\" \"),/*#__PURE__*/React.createElement(\"p\",{id:\"accountBold\",onClick:function onClick(e){return _this2.setState({signUp:true});}},\"\\xA0 Sign up!\")))));}}]);return Login;}(React.Component);var Style=styled.section(_templateObject());export default Login;","map":{"version":3,"sources":["/Users/kristinhenno/Documents/Repositories/HomeGrid/home/Client/src/Login.js"],"names":["React","styled","API","getFromStorage","setInStorage","GoogleLogin","Settings","Checkout","Preferences","Arrow","up","down","LoaderDots","Login","state","user","email","password","username","userId","loggedIn","token","isLoading","signUp","needRefresh","error","showLogout","payment","showPreferences","SVGComponentTransferFunctionElement","handleEmailChange","event","setState","target","value","preventDefault","handlePasswordChange","handleEmailChange1","handlePasswordChange1","login","i","then","res","data","success","verify","message","catch","err","console","log","retrieveGrid","id","retrieve","refreshPage","logout","localStorage","removeItem","obj","checkCreds","length","test","setCreds","responseGoogle","response","profileObj","googleId","responseGoogleSignUp","changeLogout","window","location","reload","e","Component","Style","section"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport API from \"./utils/API\";\nimport {\n  getFromStorage,\n  setInStorage\n} from \"./utils/storage\";\nimport GoogleLogin from \"react-google-login\";\nimport Settings from \"./Settings\";\nimport Checkout from \"./Checkout\";\nimport Preferences from \"./Preferences\";\nimport Arrow from \"./images/arrow.png\";\nimport up from \"./images/up.png\";\nimport down from \"./images/down.png\";\n\nimport { LoaderDots } from \"@thumbtack/thumbprint-react\";\n\nclass Login extends React.Component {\n  state = {\n    user: {\n      email: \"\",\n      password: \"\",\n      username: \"\"\n    },\n    userId: \"\",\n    loggedIn: false,\n    token: \"\",\n    isLoading: true,\n    email: \"\",\n    signUp: false,\n    needRefresh: false,\n    error: \"\",\n    showLogout: false,\n    payment: false,\n    showPreferences: SVGComponentTransferFunctionElement\n  };\n\n  handleEmailChange = event => {\n    this.setState({\n      user: {\n        email: event.target.value,\n        password: this.state.user.password\n      }\n    });\n    event.preventDefault();\n  };\n  handlePasswordChange = event => {\n    this.setState({\n      user: {\n        email: this.state.user.email,\n        password: event.target.value\n      }\n    });\n    event.preventDefault();\n  };\n\n  handleEmailChange1 = event => {\n    this.setState({\n      user: {\n        email: event.target.value,\n        username: event.target.value,\n        password: this.state.user.password\n      }\n    });\n    event.preventDefault();\n  };\n  handlePasswordChange1 = event => {\n    this.setState({\n      user: {\n        email: this.state.user.email,\n        username: this.state.user.username,\n        password: event.target.value\n      }\n    });\n    event.preventDefault();\n  };\n\n  login = i => {\n    if (i) {\n      i.preventDefault();\n    }\n    if (this.state.user.password === \"\") {\n      this.setState({\n        error: \"Please enter password.\"\n      });\n    }\n\n    if (this.state.user.email === \"\") {\n      this.setState({\n        error: \"Must enter email.\"\n      });\n    }\n    API.login(this.state.user)\n      .then(res => {\n   \n        if (res.data.success) {\n          setInStorage(\"the_main_app\", {\n            token: res.data.token\n          });\n          this.setState({\n            needRefresh: true,\n            isLoading: true,\n            token: res.data.token,\n            loggedIn: true\n          });\n          this.verify();\n        }\n        if (\n          res.data.message === \"Error: Invalid Password\"\n        ) {\n          this.setState({\n            error: \"Invalid password.\"\n          });\n        }\n        if (res.data.message === \"Error: Invalid\") {\n          this.setState({\n            error: \"User not found.\"\n          });\n        }\n      })\n      .catch(err => console.log(err));\n  };\n\n  retrieveGrid = i => {\n    if (i) {\n      i.preventDefault();\n    }\n    const id = this.state.userId;\n    API.retrieve(id).then(res => {\n   \n      this.setState({\n        email: res.data.email,\n        isLoading: false\n      });\n    \n    });\n    if (this.state.needRefresh) {\n     \n      this.refreshPage();\n    }\n  };\n\n  logout = i => {\n    if (i) {\n      i.preventDefault();\n    }\n    API.logout(this.state.token)\n      .then(res => {\n       \n        if (res) {\n          localStorage.removeItem(\"the_main_app\");\n          this.setState({\n            token: \"\",\n            isLoading: false\n          });\n        } else {\n          this.setState({\n            isLoading: false\n          });\n        }\n        this.refreshPage();\n      })\n      .catch(err => console.log(err));\n  };\n\n  verify = i => {\n    if (i) {\n      i.preventDefault();\n    }\n\n    const obj = getFromStorage(\"the_main_app\");\n    if (obj && obj.token) {\n      const { token } = obj;\n      // Verify token\n      \n      API.verify(token).then(res => {\n        if (res) {\n        \n          if (this.state.payment){\n          this.setState({\n            token: token,\n          });\n\n        } else {\n          this.setState({\n            token: token,\n            loggedIn: true,\n            userId: res.data.userId,\n            isLoading: true\n          });\n        }\n        } else {\n          this.setState({\n            isLoading: true\n          });\n        }\n        this.retrieveGrid();\n      });\n    } else {\n    \n      this.setState({\n        isLoading: false\n      });\n    }\n  };\n\n  checkCreds = i => {\n    if (i) {\n      i.preventDefault();\n    }\n\n    if (this.state.user.password === \"\") {\n      this.setState({\n        error: \"Please enter password.\"\n      });\n    }\n\n    if (this.state.user.email === \"\") {\n      this.setState({\n        error: \"Must enter email.\"\n      });\n    }\n\n    if (this.state.user.password.length < 6) {\n      this.setState({\n        error: \"Pasword must be at least 6 characters\"\n      });\n    } \n\n    if (/\\S+@\\S+\\.\\S+/.test(this.state.user.email) === false) {\n      this.setState({\n        error: \"must be a valid email\"\n      })\n    }\n\n    else{\n      this.setCreds();\n      this.setState({\n        payment: true\n      });\n    }\n  };\n\n  login = i => {\n    if (i) {\n      i.preventDefault();\n    }\n    if (this.state.user.password === \"\") {\n      this.setState({\n        error: \"Please enter password.\"\n      });\n    }\n\n    if (this.state.user.email === \"\") {\n      this.setState({\n        error: \"Must enter email.\"\n      });\n    }\n    API.login(this.state.user)\n      .then(res => {\n        // console.log(res);\n        if (res.data.success) {\n          setInStorage(\"the_main_app\", {\n            token: res.data.token\n          });\n          this.setState({\n            needRefresh: true,\n            isLoading: true,\n            token: res.data.token,\n            loggedIn: true\n          });\n          this.verify();\n        }\n        if (\n          res.data.message === \"Error: Invalid Password\"\n        ) {\n          this.setState({\n            error: \"Invalid password.\"\n          });\n        }\n        if (res.data.message === \"Error: Invalid\") {\n          this.setState({\n            error: \"User not found.\"\n          });\n        }\n      })\n      .catch(err => console.log(err));\n  };\n\n  refreshPage() {\n    window.location.reload(false);\n    this.setState({\n      needRefresh: false\n    });\n  }\n\n  setCreds(){\n    setInStorage(\"the_main_app\", {\n      user: this.state.user\n    });\n  }\n\n  componentDidMount() {\n    this.verify();\n  }\n\n  responseGoogle = response => {\n\n    this.setState({\n      user: {\n        email: response.profileObj.email,\n        password: response.googleId\n        // username: response.googleId\n      },\n      needRefresh: true\n    });\n    this.login();\n  };\n\n  responseGoogleSignUp = response => {\n\n    this.setState({\n      user: {\n        email: response.profileObj.email,\n        password: response.googleId,\n        username: response.googleId\n      },\n      // needRefresh: true\n    });\n    this.setCreds();\n    this.setState({\n      payment: true\n    });\n    // this.setState({\n    //   payment:true\n    // });\n  };\n\n  changeLogout = () => {\n   \n    if (this.state.showLogout) {\n      this.setState({\n        showLogout: false\n      });\n    } else {\n      this.setState({ showLogout: true });\n    }\n  };\n  render() {\n  \n    return (\n      <Style className=\"canDrag\">\n        {this.state.isLoading ? (\n          <div id=\"loadingDiv\">\n            <LoaderDots\n              id=\"loadingDots\"\n              size=\"small\"\n              theme=\"muted\"\n            />\n          </div>\n        ) : (\n          <div id=\"loginBoxBorder\">\n            {this.state.loggedIn ? (\n              <div id=\"email\">\n                <div id=\"topRight\">\n                  <p id=\"email1\">{this.state.email}</p>\n\n                  {this.state.showLogout ? (\n                    <img\n                      id=\"uparrow\"\n                      onClick={e => {\n                        this.changeLogout();\n                      }}\n                      src={up}\n                    />\n                  ) : (\n                    <img\n                      id=\"uparrow\"\n                      onClick={e => {\n                        this.changeLogout();\n                      }}\n                      src={down}\n                    />\n                  )}\n                </div>\n\n                {this.state.showLogout ? (\n                  <div id=\"buttons\">\n                    <button\n                      id={\n                        this.state.showPreferences\n                          ? \"widgets\"\n                          : \"widgetSelected\"\n                      }\n                      onClick={e => {\n                        this.setState({\n                          showPreferences: true,\n                          showLogout: false\n                        });\n                      }}\n                    >\n                      Preferences\n                    </button>\n                    <button\n                      id={\n                        this.state.showPreferences\n                          ? \"preferenceSelected\"\n                          : \"preferences\"\n                      }\n                      onClick={e => {\n                        this.setState({\n                          showPreferences: false,\n                          showLogout: false\n                        });\n                      }}\n                    >\n                      Widgets\n                    </button>\n                    <button\n                      id=\"logoutbutton\"\n                      onClick={e => {\n                        this.logout();\n                      }}\n                    >\n                      Log out\n                    </button>\n                  </div>\n                ) : (\n                  <p id=\"blank\"></p>\n                )}\n                {this.state.showPreferences ? (\n                  <Preferences />\n                ) : (\n                  <Settings />\n                )}\n              </div>\n            ) : this.state.signUp ? (\n              !this.state.payment ? (\n              <div>\n                <div>\n                  <div className=\"LoginButton\">\n                    <GoogleLogin\n                      clientId=\"696659809470-2r6j4siq7i296mrufjq4glm7r8lqul0p.apps.googleusercontent.com\"\n                      buttonText=\"SIGN UP WITH GOOGLE\"\n                      id=\"google\"\n                      onSuccess={this.responseGoogleSignUp}\n                      onFailure={this.responseGoogleSignUp}\n                    />\n                  </div>\n                  <p id=\"error\">&nbsp;{this.state.error}</p>\n                  <div id=\"loginBox\">\n                    <div id=\"regularLogin\">\n                      <div>\n                        <input\n                          id=\"emailLogin\"\n                          placeholder=\"email\"\n                          onChange={this.handleEmailChange1}\n                        ></input>\n                      </div>\n                      <div>\n                        <input\n                          onChange={\n                            this.handlePasswordChange1\n                          }\n                          id=\"passwordLogin\"\n                          placeholder=\"password\"\n                          type=\"password\"\n                        ></input>\n                      </div>\n                    </div>\n                    <button\n                      id=\"go\"\n                      onClick={e => {\n                        // this.signUp();\n                        this.checkCreds();\n                        // this.setCreds();\n                        // SIGNUP\n                      }}\n                    >\n                      <img src={Arrow} id=\"arrow\" />\n                    </button>\n                  </div>\n                  <div id=\"signUpBox\">\n                    <p id=\"account\">Go back to </p>{\" \"}\n                    <p\n                      id=\"accountBold\"\n                      onClick={e =>\n                        this.setState({\n                          signUp: false\n                        })\n                      }\n                    >\n                      login\n                    </p>\n                  </div>\n                </div>\n              </div>\n              ) : (<Checkout/>)\n            ) : (\n              <div>\n                <div className=\"LoginButton\">\n                  <GoogleLogin\n                    clientId=\"696659809470-2r6j4siq7i296mrufjq4glm7r8lqul0p.apps.googleusercontent.com\"\n                    buttonText=\"LOG IN WITH GOOGLE\"\n                    id=\"google\"\n                    onSuccess={this.responseGoogle}\n                    onFailure={this.responseGoogle}\n                  />\n                </div>\n                <p id=\"error\">&nbsp;{this.state.error}</p>\n                <div id=\"loginBox\">\n                  <div id=\"regularLogin\">\n                    <div>\n                      <input\n                        id=\"emailLogin\"\n                        placeholder=\"email\"\n                        onChange={this.handleEmailChange}\n                      ></input>\n                    </div>\n                    <div>\n                      <input\n                        onChange={this.handlePasswordChange}\n                        id=\"passwordLogin\"\n                        placeholder=\"password\"\n                        type=\"password\"\n                      ></input>\n                    </div>\n                  </div>\n                  <button\n                    id=\"go\"\n                    onClick={e => {\n                      this.login();\n                    }}\n                  >\n                    <img src={Arrow} id=\"arrow\" />\n                  </button>\n                </div>\n                <div id=\"signUpBox\">\n                  <p id=\"account\">\n                    Don't have an account?{\" \"}\n                  </p>\n                  <p\n                    id=\"accountBold\"\n                    onClick={e =>\n                      this.setState({\n                        signUp: true\n                      })\n                    }\n                  >\n                    &nbsp; Sign up!\n                  </p>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </Style>\n    );\n  }\n}\n\nconst Style = styled.section`\n  #buttons {\n    background: #fff;\n    border-radius: 8px;\n    /* box-shadow: 0 2px 10px 0 rgba(0,0,0,0.2); */\n  }\n  #topRight {\n    margin-right: 1vh;\n  }\n  #blank {\n    position: absolute;\n  }\n\n  .LoginButton button {\n    /* width: 41%;\nfont-size: 11px; */\n  }\n\n  #logoutbutton {\n    /* background-color: #919191; */\n    color: #919191;\n    border: none;\n    // border-radius: 0px 0px 8px 8px;\n    padding-bottom: 1%;\n    font-size: 0.9em;\n    /* font-weight: 600; */\n    margin-top: 10%;\n    position: absolute;\n    z-index: 1000000;\n    right: 1%;\n    width: 23.5%;\n    text-align: right;\n    color: #5f6368;\n    line-height: 16px;\n    padding-top: 0.8%;\n    box-shadow: 0 2px 2px rgba(0, 0, 0, 0.2);\n    font-weight: 500;\n    background-color:white;\n  }\n\n  #preferences {\n    /* background-color: #919191; */\n    border: none;\n\n    padding-top: 1%;\n    padding-bottom: 1%;\n    font-size: 0.9em;\n    /* font-weight: 600; */\n    margin-top: 5%;\n    position: absolute;\n    z-index: 1000000;\n    right: 1%;\n    width: 23.5%;\n    text-align: right;\n    color: #5f6368;\n    line-height: 16px;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2);\n    font-weight: 700;\n    // color: royalblue;\n    background: white;\n  }\n  #widgets {\n    /* background-color: #919191; */\n    border: none;\n    // border-radius: 8px 8px 0px 0px;\n    padding-top: 1%;\n    padding-bottom: 1%;\n    font-size: 0.9em;\n    /* font-weight: 600; */\n    margin-top: 0%;\n    position: absolute;\n    z-index: 1000000;\n    right: 1%;\n    width: 23.5%;\n    text-align: right;\n    color: #5f6368;\n    line-height: 16px;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2);\n    font-weight: 700;\n    // color: royalblue;\n    background: white;\n  }\n  #widgetSelected {\n    background: white;\n    border: none;\n    // border-radius: 8px 8px 0px 0px;\n    padding-top: 1%;\n    padding-bottom: 1%;\n    font-size: 0.9em;\n     font-weight: 900; \n    margin-top: 0%;\n    position: absolute;\n    z-index: 1000000;\n    right: 1%;\n    width: 23.5%;\n    text-align: right;\n    color: #5f6368;\n    line-height: 16px;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2);\n    font-weight: 500;\n    /* color: slateblue; */\n  }\n\n  #preferenceSelected {\n    background: white;\n    border: none;\n\n    padding-top: 1%;\n    padding-bottom: 1%;\n    font-size: 0.9em;\n    /* font-weight: 600; */\n    margin-top: 5%;\n    position: absolute;\n    z-index: 1000000;\n    right: 1%;\n    width: 23.5%;\n    text-align: right;\n \n    line-height: 16px;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2);\n    font-weight: 500;\n    color: #919191;\n  }\n\n  #preferences:focus {\n    outline: none;\n  }\n  #widgets:focus {\n    outline: none;\n  }\n\n  #logoutbutton:hover {\n    cursor: pointer;\n    background-color: #ededed;\n  }\n\n  #widgets:hover {\n    cursor: pointer;\n    background-color: #ededed;\n  }\n\n  #preferenceSelected:hover {\n    cursor: pointer;\n    background-color: #ededed;\n  }\n\n  #widgetSelected:hover {\n    cursor: pointer;\n    background-color: #ededed;\n  }\n\n  #preferences:hover {\n    cursor: pointer;\n    background-color: #ededed;\n  }\n\n  #email1 {\n    display: inline-block;\n    margin: 0;\n  }\n\n  #uparrow {\n    display: inline-block;\n    margin: 0;\n    font-size: 0.8em;\n    z-index: 20;\n    width: 1.7vh;\n\n    margin-left: 0.5vh;\n  }\n\n  #error {\n    margin: 0;\n    font-size: 0.7em;\n    text-align: center;\n    margin-top: 1.5vh;\n    color: rgb(207, 74, 34);\n  }\n\n  #loadingDiv {\n    padding-top: 15.33vh;\n    text-align: center;\n    background-color: white;\n    z-index: 5;\n  }\n\n  #email {\n    float: right;\n    /* margin-top: -5%; */\n    margin-top: 1%;\n\n    color: #666;\n    font-size: 0.75em;\n    text-align: right;\n    font-weight: 500;\n  }\n\n  #loginBoxBorder {\n    border-radius: 15px;\n    border: 1px solid #dfe1e5;\n    background-color: white;\n    height: 32.33vh;\n    overflow: scroll;\n  }\n\n  #signUpBox {\n    text-align: center;\n    font-size: 0.8em;\n    margin-top: 1%;\n  }\n\n  #account {\n    display: inline-block;\n    color: rgba(0, 0, 0, 0.54);\n    font-size: 0.9em;\n    margin-top: 1vh;\n  }\n\n  #accountBold {\n    display: inline-block;\n    font-weight: bold;\n    color: rgba(0, 0, 0, 0.54);\n    text-decoration: none;\n    font-size: 0.9em;\n    margin-top: 1vh;\n  }\n\n  #accountBold:hover {\n    cursor: pointer;\n  }\n  #arrow {\n    width: 60%;\n    padding: 5%;\n    padding-top: 10%;\n    padding-left: 7%;\n  }\n  #go {\n    margin-top: 4%;\n    background-color: #dfe1e5;\n    color: white;\n    border: 0;\n    border-radius: 3px;\n    width: 8%;\n    margin-bottom: 4%;\n  }\n\n  #go:hover {\n    cursor: pointer;\n  }\n  #emailLogin {\n    border: 0;\n    margin-left: 2%;\n    margin-top: 0.2vh;\n    padding-top: 1vh;\n    width: 90%;\n  }\n  #emailLogin:focus {\n    outline: none;\n  }\n\n  #passwordLogin:focus {\n    outline: none;\n  }\n\n  #passwordLogin {\n    border: 0;\n    padding-top: 2vh;\n    margin-left: 2%;\n    margin-top: 0.2vh;\n    width: 90%;\n  }\n  #emailLogin1 {\n    border: 0;\n    margin-left: 2%;\n    margin-top: 0.2vh;\n    padding-top: 2vh;\n    width: 90%;\n  }\n  #emailLogin1:focus {\n    outline: none;\n  }\n\n  #passwordLogin1:focus {\n    outline: none;\n  }\n\n  #passwordLogin1 {\n    border: 0;\n    padding-top: 2vh;\n    margin-left: 2%;\n    margin-top: 0.2vh;\n    width: 90%;\n  }\n  #loginBox {\n    display: flex;\n    justify-content: center;\n    margin-top: 0.5vh;\n  }\n  .LoginButton {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 4.5vh;\n  }\n  #facebook {\n    background-color: #4267b2;\n    color: white;\n    display: inline-flex;\n    align-items: center;\n    padding: 0;\n    box-shadow: rgba(0, 0, 0, 0.24) 0px 2.2px 2px 0px,\n      rgba(0, 0, 0, 0.24) 0px 0px 1px 0px;\n    border: 2.2px solid transparent;\n    margin-right: 3%;\n    /* display: block; */\n  }\n  #google {\n    margin-left: 3%;\n  }\n  #fblogin {\n    font-family: Helvetica, Arial, sans-serif;\n    font-weight: bold;\n    font-size: 14px;\n    padding: 11px 10px 11px 0px;\n  }\n  #facebookLogo {\n    height: 19px;\n    width: 19px;\n    padding: 10px;\n    margin-right: 10px;\n    /* display: inline-block; */\n  }\n\n  #regularLogin {\n    display: block;\n    border-top: 1px solid #dfe1e5;\n    width: 70%;\n    display: block;\n    border-bottom: 1px solid #dfe1e5;\n    padding-bottom: 1vh;\n  }\n`;\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}