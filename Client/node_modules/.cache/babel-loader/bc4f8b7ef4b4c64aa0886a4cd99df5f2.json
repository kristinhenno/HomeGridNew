{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _classCallCheck from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  #spinner {\\n    text-align: center;\\n    margin-top: 11vh;\\n  }\\n  #line {\\n    width: 81%;\\n    margin-left: 9%;\\n    border-bottom: 1px solid lightgray;\\n    /* position: absolute; */\\n    /* margin-bottom: -4%; */\\n    margin-top: -1.5%;\\n  }\\n  #line2 {\\n    width: 79.2%;\\n    margin-left: 12%;\\n    border-bottom: 1px solid lightgray;\\n    margin-top: -1.5%;\\n  }\\n\\n  #nothing {\\n    display: inline-block;\\n    margin: 0;\\n  }\\n  #navAdd {\\n    margin: 0;\\n    display: inline-block;\\n    cursor: pointer;\\n    color: rgba(0, 0, 0, 0.54);\\n    float: right;\\n    margin: 2% 4% 0 0;\\n  }\\n  #navTodo {\\n    font-family: \\\"Balsamiq Sans\\\", cursive;\\n    margin: 0;\\n    margin: 2% 1.5% 2% 5%;\\n    display: inline-block;\\n    cursor: pointer;\\n    color: #db4437;\\n    border-bottom: 1px solid #db4437;\\n  }\\n\\n  #navTodoSmall {\\n    font-family: \\\"Balsamiq Sans\\\", cursive;\\n    margin: 0;\\n    margin: 2% 1.5% 2% 5%;\\n    display: inline-block;\\n    cursor: pointer;\\n    font-size: 0.8em;\\n  }\\n\\n  #navCompleted {\\n    font-family: \\\"Balsamiq Sans\\\", cursive;\\n    margin: 0;\\n    margin: 2% 1% 2% 0%;\\n    display: inline-block;\\n    cursor: pointer;\\n    color: #0f9d58;\\n    border-bottom: 1px solid #0f9d58;\\n  }\\n  #navCompletedSmall {\\n    font-family: \\\"Balsamiq Sans\\\", cursive;\\n    margin: 0;\\n    margin: 2% 1% 2% 0%;\\n    font-size: 0.7em;\\n    display: inline-block;\\n    cursor: pointer;\\n    font-size: 0.8em;\\n  }\\n\\n  #additeminput {\\n    border: none;\\n    width: 85%;\\n    background-color: transparent;\\n  }\\n  #additeminput:focus {\\n    outline: none;\\n  }\\n  #deleteTodo {\\n    display: none;\\n    padding-right: 8%;\\n    margin-top: 2%;\\n    margin-bottom: 0%;\\n  }\\n  #deleteTodoCompleted {\\n    display: none;\\n    padding-right: 8%;\\n    margin-top: 1.5%;\\n    margin-bottom: 0%;\\n  }\\n  #deleteTodoCompleted:hover {\\n    cursor: pointer;\\n    display: block;\\n  }\\n  #deleteTodo:hover {\\n    cursor: pointer;\\n    display: block;\\n  }\\n  .itemDisplayed:focus + #deleteTodo {\\n    display: block;\\n  }\\n\\n  .itemDisplayedCompleted:hover + #deleteTodoCompleted {\\n    display: block;\\n  }\\n\\n  .itemDisplayed:focus {\\n    outline: none;\\n  }\\n\\n  #checklistButtons {\\n    /* display: flex;\\n    flex-direction: row;\\n    justify-content: space-between; */\\n    margin-top: 0.4vh;\\n  }\\n  .todoItems .MuiCheckbox-colorSecondary.Mui-checked {\\n    color: #35c44b;\\n  }\\n  .todoItems .MuiIconButton-colorSecondary:hover {\\n    background-color: rgba(53, 196, 75, 0.04);\\n  }\\n\\n  #addButton .MuiIconButton-colorSecondary:hover {\\n    background-color: rgba(53, 196, 75, 0.04);\\n  }\\n\\n  #addButton .MuiCheckbox-colorSecondary.Mui-checked {\\n    color: rgba(0, 0, 0, 0.54);\\n  }\\n\\n  #addButton {\\n    margin-top: -2%;\\n  }\\n\\n  .itemDisplayed {\\n    width: 79%;\\n    padding: 0;\\n    /* margin-top: 2.5%; */\\n    /* margin-bottom: 2.5%; */\\n    resize: none;\\n    border: none;\\n    font-size: 12px;\\n    font-family: sans-serif;\\n    background-color: transparent;\\n  }\\n\\n  .itemDisplayedCompleted {\\n    width: 79%;\\n    padding: 0;\\n    /* margin-top: 2.5%; */\\n    /* margin-bottom: 2.5%; */\\n    resize: none;\\n    border: none;\\n    font-size: 12px;\\n    font-family: sans-serif;\\n    background-color: transparent;\\n    margin-top: 0.7em;\\n    margin-bottom: 0.2em;\\n  }\\n  .todoItems {\\n    display: flex;\\n    margin-top: -1.8%;\\n    /* padding-left: 3%; */\\n  }\\n\\n  .completedItems {\\n    display: flex;\\n    padding-left: 3%;\\n    margin-top: -1.7%;\\n  }\\n  #checklist {\\n    /* overflow: scroll; */\\n    height: 32.33vh;\\n    border-radius: 15px;\\n    /* border: 0.8vh solid #ebeef2; */\\n    background-color: white;\\n    border: 1px solid #adadad;\\n  }\\n  #todoList {\\n    display: flex;\\n  }\\n\\n  #todos {\\n    height: 25vh;\\n    overflow: scroll;\\n    width: 95%;\\n    padding-left: 3%;\\n  }\\n\\n  .PrivateSwitchBase-root-16 {\\n    padding: 7px;\\n  }\\n  #todo {\\n    width: 100%;\\n  }\\n\\n  #completed {\\n    height: 25vh;\\n    overflow: scroll;\\n    width: 97%;\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{Component}from\"react\";import styled from\"styled-components\";import API from\"./utils/API\";import axios from\"axios\";import{getFromStorage,setInStorage}from\"./utils/storage\";import Checkbox from\"@material-ui/core/Checkbox\";import RadioButtonUncheckedIcon from\"@material-ui/icons/RadioButtonUnchecked\";import RadioButtonCheckedIcon from\"@material-ui/icons/RadioButtonChecked\";import{createMuiTheme}from\"@material-ui/core/styles\";import AddCircleOutlineIcon from\"@material-ui/icons/AddCircleOutline\";import ClipLoader from\"react-spinners/ClipLoader\";var Checklist=/*#__PURE__*/function(_React$Component){_inherits(Checklist,_React$Component);var _super=_createSuper(Checklist);function Checklist(props){var _this;_classCallCheck(this,Checklist);_this=_super.call(this,props);_this.state={token:\"\",userId:\"\",list:[],isLoading:true,userInput:\"\",showCompleted:false,disabled:true,currentItem:\"\"};_this.handleChange=function(event){_this.setState({userInput:event.target.value});event.preventDefault();};_this.handleKeyPress=function(event){if(event.key===\"Enter\"){_this.addItem(_this.state.userInput);_this.setState({userInput:\"\"});}};_this.updateItem=function(id,event){var newList=_this.state.list;var i;for(i=0;i<newList.length;i++){if(newList[i].id===id){newList[i].todo=event;}}_this.updateListState();};_this.retrieveList=function(i){if(i){i.preventDefault();}var id=_this.state.userId;API.retrieve(id).then(function(res){if(res.data.list.length>0){// console.log(res.data.list);\nvar listArray=res.data.list;// console.log(listArray);\n_this.setState({list:listArray,isLoading:false});}else{_this.setState({isLoading:false});}});};_this.verify=function(i){if(i){i.preventDefault();}var obj=getFromStorage(\"the_main_app\");if(obj&&obj.token){var token=obj.token;// Verify token\nAPI.verify(token).then(function(res){if(res){// console.log(\"token checked\");\n// console.log(res);\n_this.setState({token:token,userId:res.data.userId});// console.log(\"loggedIn\");\n_this.retrieveList();}else{_this.setState({isLoading:true});}});}else{// console.log(\"no token\");\n_this.setState({isLoading:false,isLoggedIn:false});}};_this.updateListState=function(i){if(i){i.preventDefault();}var id=_this.state.userId;var list=_this.state.list;API.updatelist(id,list).then(function(res){if(res){// console.log(\"list added\");\n}});};_this.addItem=function(item){var itemArray=_this.state.list;var object={todo:item,date:\"5/02/20\",completed:false,id:itemArray.length+1,isDeleted:false};itemArray.push(object);_this.setState({list:itemArray,userInput:\"\"});_this.updateListState();};_this.setCompleted=function(id){var newList=_this.state.list;var i;for(i=0;i<newList.length;i++){if(newList[i].id===id){if(newList[i].completed){newList[i].completed=false;setTimeout(function(){_this.setState({list:newList});},2000);_this.updateListState();break;}else{newList[i].completed=true;setTimeout(function(){_this.setState({list:newList});},2000);_this.updateListState();break;}}}};_this.removeItem=function(id){var newList=_this.state.list;var i;for(i=0;i<newList.length;i++){if(newList[i].id===id){newList[i].isDeleted=true;_this.setState({list:newList});break;}}};_this.addToDo=React.createRef();return _this;}_createClass(Checklist,[{key:\"componentDidMount\",value:function componentDidMount(){this.verify();}},{key:\"render\",value:function render(){var _this2=this;// console.log(this.state.userInput);\n// console.log(this.state.list);\nreturn/*#__PURE__*/React.createElement(Style,null,/*#__PURE__*/React.createElement(\"div\",{id:\"checklist\"},this.state.isLoading?/*#__PURE__*/React.createElement(\"p\",{id:\"spinner\"},/*#__PURE__*/React.createElement(ClipLoader,{size:40,color:\"#0f9d58\"})):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{id:\"checklistButtons\"},/*#__PURE__*/React.createElement(\"p\",{id:this.state.showCompleted?\"navTodoSmall\":\"navTodo\",onClick:function onClick(e){return _this2.setState({showCompleted:false});}},\"Tasks\"),/*#__PURE__*/React.createElement(\"p\",{id:this.state.showCompleted?\"navCompleted\":\"navCompletedSmall\",onClick:function onClick(e){return _this2.setState({showCompleted:true});}},\"Completed\"),this.state.showCompleted?/*#__PURE__*/React.createElement(\"p\",{id:\"nothing\"}):/*#__PURE__*/React.createElement(\"p\",{id:\"navAdd\",onClick:function onClick(){_this2.addToDo.current.focus();}},/*#__PURE__*/React.createElement(AddCircleOutlineIcon,{fontSize:\"small\"}))),this.state.showCompleted?/*#__PURE__*/React.createElement(\"div\",{id:\"completed\"},this.state.list.length>0?this.state.list.reverse().map(function(item){// console.log(item);\n// console.log(item[index].todo);\nif(item.completed&&!item.isDeleted){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"completedItems\"},/*#__PURE__*/React.createElement(Checkbox,{size:\"small\",onClick:function onClick(e){return _this2.setCompleted(item.id);},type:\"checkbox\",name:item.todo,checkedIcon:/*#__PURE__*/React.createElement(RadioButtonUncheckedIcon,null),icon:/*#__PURE__*/React.createElement(RadioButtonCheckedIcon,null)}),/*#__PURE__*/React.createElement(\"p\",{className:\"itemDisplayedCompleted\"},item.todo),/*#__PURE__*/React.createElement(\"p\",{id:\"deleteTodoCompleted\",onClick:function onClick(e){return _this2.removeItem(item.id);}},\"x\")),/*#__PURE__*/React.createElement(\"div\",{id:\"line2\"}));}}):/*#__PURE__*/React.createElement(\"p\",null)):/*#__PURE__*/React.createElement(\"div\",{id:\"todos\"},/*#__PURE__*/React.createElement(\"div\",{id:\"todoList\"},/*#__PURE__*/React.createElement(\"div\",{id:\"todo\"},this.state.list.length>0?this.state.list.map(function(item){// console.log(item);\nif(!item.completed&&!item.isDeleted){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"todoItems\"},/*#__PURE__*/React.createElement(Checkbox,{size:\"small\",onClick:function onClick(e){return _this2.setCompleted(item.id);},type:\"checkbox\",name:item.todo,icon:/*#__PURE__*/React.createElement(RadioButtonUncheckedIcon,null),checkedIcon:/*#__PURE__*/React.createElement(RadioButtonCheckedIcon,null)}),/*#__PURE__*/React.createElement(\"input\",{spellcheck:\"false\",maxlength:\"90\",onChange:function onChange(e){// console.log(e.target.value);\n_this2.updateItem(item.id,e.target.value);},defaultValue:item.todo,className:\"itemDisplayed\"}),/*#__PURE__*/React.createElement(\"p\",{id:\"deleteTodo\",onClick:function onClick(e){return _this2.removeItem(item.id);}},\"x\")),/*#__PURE__*/React.createElement(\"div\",{id:\"line\"}));}}):/*#__PURE__*/React.createElement(\"p\",null))),/*#__PURE__*/React.createElement(\"div\",{id:\"addButton\"},/*#__PURE__*/React.createElement(Checkbox,{size:\"small\"// onClick={e => this.setCompleted(item.id)}\n,type:\"checkbox\"// name={item.todo}\n,onClick:function onClick(e){return _this2.addItem(_this2.state.userInput);},icon:/*#__PURE__*/React.createElement(AddCircleOutlineIcon,null),checkedIcon:/*#__PURE__*/React.createElement(AddCircleOutlineIcon,null)}),/*#__PURE__*/React.createElement(\"input\",{ref:this.addToDo,value:this.state.userInput||\"\",onKeyPress:this.handleKeyPress,id:\"additeminput\",onChange:this.handleChange}))))));}}]);return Checklist;}(React.Component);var Style=styled.section(_templateObject());export default Checklist;","map":{"version":3,"sources":["/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/src/Checklist.js"],"names":["React","Component","styled","API","axios","getFromStorage","setInStorage","Checkbox","RadioButtonUncheckedIcon","RadioButtonCheckedIcon","createMuiTheme","AddCircleOutlineIcon","ClipLoader","Checklist","props","state","token","userId","list","isLoading","userInput","showCompleted","disabled","currentItem","handleChange","event","setState","target","value","preventDefault","handleKeyPress","key","addItem","updateItem","id","newList","i","length","todo","updateListState","retrieveList","retrieve","then","res","data","listArray","verify","obj","isLoggedIn","updatelist","item","itemArray","object","date","completed","isDeleted","push","setCompleted","setTimeout","removeItem","addToDo","createRef","e","current","focus","reverse","map","Style","section"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport API from \"./utils/API\";\nimport axios from \"axios\";\nimport { getFromStorage, setInStorage } from \"./utils/storage\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport RadioButtonUncheckedIcon from \"@material-ui/icons/RadioButtonUnchecked\";\nimport RadioButtonCheckedIcon from \"@material-ui/icons/RadioButtonChecked\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nclass Checklist extends React.Component {\n  state = {\n    token: \"\",\n    userId: \"\",\n    list: [],\n    isLoading: true,\n    userInput: \"\",\n    showCompleted: false,\n    disabled: true,\n    currentItem: \"\"\n  };\n\n  constructor(props) {\n    super(props);\n    this.addToDo = React.createRef();\n  }\n\n  handleChange = event => {\n    this.setState({\n      userInput: event.target.value\n    });\n    event.preventDefault();\n  };\n\n  handleKeyPress = event => {\n    if (event.key === \"Enter\") {\n      this.addItem(this.state.userInput);\n      this.setState({\n        userInput: \"\"\n      });\n    }\n  };\n\n  updateItem = (id, event) => {\n    const newList = this.state.list;\n    var i;\n    for (i = 0; i < newList.length; i++) {\n      if (newList[i].id === id) {\n        newList[i].todo = event;\n      }\n    }\n    this.updateListState();\n  };\n\n  retrieveList = i => {\n    if (i) {\n      i.preventDefault();\n    }\n    const id = this.state.userId;\n    API.retrieve(id).then(res => {\n      if (res.data.list.length > 0) {\n        // console.log(res.data.list);\n        const listArray = res.data.list;\n\n        // console.log(listArray);\n\n        this.setState({\n          list: listArray,\n          isLoading: false\n        });\n      } else {\n        this.setState({\n          isLoading: false\n        });\n      }\n    });\n  };\n\n  verify = i => {\n    if (i) {\n      i.preventDefault();\n    }\n    const obj = getFromStorage(\"the_main_app\");\n    if (obj && obj.token) {\n      const { token } = obj;\n      // Verify token\n      API.verify(token).then(res => {\n        if (res) {\n          // console.log(\"token checked\");\n          // console.log(res);\n          this.setState({\n            token: token,\n            userId: res.data.userId\n          });\n          // console.log(\"loggedIn\");\n          this.retrieveList();\n        } else {\n          this.setState({\n            isLoading: true\n          });\n        }\n      });\n    } else {\n      // console.log(\"no token\");\n      this.setState({\n        isLoading: false,\n        isLoggedIn: false\n      });\n    }\n  };\n\n  updateListState = i => {\n    if (i) {\n      i.preventDefault();\n    }\n    const id = this.state.userId;\n    const list = this.state.list;\n\n    API.updatelist(id, list).then(res => {\n      if (res) {\n        // console.log(\"list added\");\n      }\n    });\n  };\n\n  addItem = item => {\n    const itemArray = this.state.list;\n    const object = {\n      todo: item,\n      date: \"5/02/20\",\n      completed: false,\n      id: itemArray.length + 1,\n      isDeleted: false\n    };\n    itemArray.push(object);\n    this.setState({\n      list: itemArray,\n      userInput: \"\"\n    });\n    this.updateListState();\n  };\n\n  setCompleted = id => {\n    const newList = this.state.list;\n    var i;\n    for (i = 0; i < newList.length; i++) {\n      if (newList[i].id === id) {\n        if (newList[i].completed) {\n          newList[i].completed = false;\n          setTimeout(() => {\n            this.setState({\n              list: newList\n            });\n          }, 2000);\n          this.updateListState();\n          break;\n        } else {\n          newList[i].completed = true;\n          setTimeout(() => {\n            this.setState({\n              list: newList\n            });\n          }, 2000);\n          this.updateListState();\n          break;\n        }\n      }\n    }\n  };\n\n  removeItem = id => {\n    const newList = this.state.list;\n    var i;\n    for (i = 0; i < newList.length; i++) {\n      if (newList[i].id === id) {\n        newList[i].isDeleted = true;\n\n        this.setState({\n          list: newList\n        });\n\n        break;\n      }\n    }\n  };\n\n  componentDidMount() {\n    this.verify();\n  }\n\n  render() {\n    // console.log(this.state.userInput);\n    // console.log(this.state.list);\n    return (\n      <Style>\n        <div id=\"checklist\">\n          {this.state.isLoading ? (\n            <p id=\"spinner\">\n              <ClipLoader size={40} color={\"#0f9d58\"} />\n            </p>\n          ) : (\n            <div>\n              <div id=\"checklistButtons\">\n                <p\n                  id={this.state.showCompleted ? \"navTodoSmall\" : \"navTodo\"}\n                  onClick={e =>\n                    this.setState({\n                      showCompleted: false\n                    })\n                  }\n                >\n                  Tasks\n                </p>\n                <p\n                  id={\n                    this.state.showCompleted\n                      ? \"navCompleted\"\n                      : \"navCompletedSmall\"\n                  }\n                  onClick={e =>\n                    this.setState({\n                      showCompleted: true\n                    })\n                  }\n                >\n                  Completed\n                </p>\n                {this.state.showCompleted ? (\n                  <p id=\"nothing\"></p>\n                ) : (\n                  <p\n                    id=\"navAdd\"\n                    onClick={() => {\n                      this.addToDo.current.focus();\n                    }}\n                  >\n                    <AddCircleOutlineIcon fontSize=\"small\" />\n                  </p>\n                )}\n              </div>\n              {this.state.showCompleted ? (\n                <div id=\"completed\">\n                  {this.state.list.length > 0 ? (\n                    this.state.list.reverse().map(item => {\n                      // console.log(item);\n                      // console.log(item[index].todo);\n                      if (item.completed && !item.isDeleted) {\n                        return (\n                          <div>\n                            <div className=\"completedItems\">\n                              <Checkbox\n                                size=\"small\"\n                                onClick={e => this.setCompleted(item.id)}\n                                type=\"checkbox\"\n                                name={item.todo}\n                                checkedIcon={<RadioButtonUncheckedIcon />}\n                                icon={<RadioButtonCheckedIcon />}\n                              />\n                              <p className=\"itemDisplayedCompleted\">\n                                {item.todo}\n                              </p>\n                              <p\n                                id=\"deleteTodoCompleted\"\n                                onClick={e => this.removeItem(item.id)}\n                              >\n                                x\n                              </p>\n                            </div>\n                            <div id=\"line2\"></div>\n                          </div>\n                        );\n                      }\n                    })\n                  ) : (\n                    <p></p>\n                  )}\n                </div>\n              ) : (\n                <div id=\"todos\">\n                  <div id=\"todoList\">\n                    <div id=\"todo\">\n                      {this.state.list.length > 0 ? (\n                        this.state.list.map(item => {\n                          // console.log(item);\n                          if (!item.completed && !item.isDeleted) {\n                            return (\n                              <div>\n                                <div className=\"todoItems\">\n                                  <Checkbox\n                                    size=\"small\"\n                                    onClick={e => this.setCompleted(item.id)}\n                                    type=\"checkbox\"\n                                    name={item.todo}\n                                    icon={<RadioButtonUncheckedIcon />}\n                                    checkedIcon={<RadioButtonCheckedIcon />}\n                                  />\n                                  <input\n                                    spellcheck=\"false\"\n                                    maxlength=\"90\"\n                                    onChange={e => {\n                                      // console.log(e.target.value);\n                                      this.updateItem(item.id, e.target.value);\n                                    }}\n                                    defaultValue={item.todo}\n                                    className=\"itemDisplayed\"\n                                  />\n\n                                  <p\n                                    id=\"deleteTodo\"\n                                    onClick={e => this.removeItem(item.id)}\n                                  >\n                                    x\n                                  </p>\n                                </div>\n                                <div id=\"line\"></div>\n                              </div>\n                            );\n                          }\n                        })\n                      ) : (\n                        <p></p>\n                      )}\n                    </div>\n                  </div>\n                  <div id=\"addButton\">\n                    <Checkbox\n                      size=\"small\"\n                      // onClick={e => this.setCompleted(item.id)}\n                      type=\"checkbox\"\n                      // name={item.todo}\n                      onClick={e => this.addItem(this.state.userInput)}\n                      icon={<AddCircleOutlineIcon />}\n                      checkedIcon={<AddCircleOutlineIcon />}\n                    />\n                    <input\n                      ref={this.addToDo}\n                      value={this.state.userInput || \"\"}\n                      onKeyPress={this.handleKeyPress}\n                      id=\"additeminput\"\n                      onChange={this.handleChange}\n                    ></input>\n                    {/* <button onClick={e => this.addItem(this.state.userInput)}>\n                      add\n                    </button> */}\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </Style>\n    );\n  }\n}\n\nconst Style = styled.section`\n  #spinner {\n    text-align: center;\n    margin-top: 11vh;\n  }\n  #line {\n    width: 81%;\n    margin-left: 9%;\n    border-bottom: 1px solid lightgray;\n    /* position: absolute; */\n    /* margin-bottom: -4%; */\n    margin-top: -1.5%;\n  }\n  #line2 {\n    width: 79.2%;\n    margin-left: 12%;\n    border-bottom: 1px solid lightgray;\n    margin-top: -1.5%;\n  }\n\n  #nothing {\n    display: inline-block;\n    margin: 0;\n  }\n  #navAdd {\n    margin: 0;\n    display: inline-block;\n    cursor: pointer;\n    color: rgba(0, 0, 0, 0.54);\n    float: right;\n    margin: 2% 4% 0 0;\n  }\n  #navTodo {\n    font-family: \"Balsamiq Sans\", cursive;\n    margin: 0;\n    margin: 2% 1.5% 2% 5%;\n    display: inline-block;\n    cursor: pointer;\n    color: #db4437;\n    border-bottom: 1px solid #db4437;\n  }\n\n  #navTodoSmall {\n    font-family: \"Balsamiq Sans\", cursive;\n    margin: 0;\n    margin: 2% 1.5% 2% 5%;\n    display: inline-block;\n    cursor: pointer;\n    font-size: 0.8em;\n  }\n\n  #navCompleted {\n    font-family: \"Balsamiq Sans\", cursive;\n    margin: 0;\n    margin: 2% 1% 2% 0%;\n    display: inline-block;\n    cursor: pointer;\n    color: #0f9d58;\n    border-bottom: 1px solid #0f9d58;\n  }\n  #navCompletedSmall {\n    font-family: \"Balsamiq Sans\", cursive;\n    margin: 0;\n    margin: 2% 1% 2% 0%;\n    font-size: 0.7em;\n    display: inline-block;\n    cursor: pointer;\n    font-size: 0.8em;\n  }\n\n  #additeminput {\n    border: none;\n    width: 85%;\n    background-color: transparent;\n  }\n  #additeminput:focus {\n    outline: none;\n  }\n  #deleteTodo {\n    display: none;\n    padding-right: 8%;\n    margin-top: 2%;\n    margin-bottom: 0%;\n  }\n  #deleteTodoCompleted {\n    display: none;\n    padding-right: 8%;\n    margin-top: 1.5%;\n    margin-bottom: 0%;\n  }\n  #deleteTodoCompleted:hover {\n    cursor: pointer;\n    display: block;\n  }\n  #deleteTodo:hover {\n    cursor: pointer;\n    display: block;\n  }\n  .itemDisplayed:focus + #deleteTodo {\n    display: block;\n  }\n\n  .itemDisplayedCompleted:hover + #deleteTodoCompleted {\n    display: block;\n  }\n\n  .itemDisplayed:focus {\n    outline: none;\n  }\n\n  #checklistButtons {\n    /* display: flex;\n    flex-direction: row;\n    justify-content: space-between; */\n    margin-top: 0.4vh;\n  }\n  .todoItems .MuiCheckbox-colorSecondary.Mui-checked {\n    color: #35c44b;\n  }\n  .todoItems .MuiIconButton-colorSecondary:hover {\n    background-color: rgba(53, 196, 75, 0.04);\n  }\n\n  #addButton .MuiIconButton-colorSecondary:hover {\n    background-color: rgba(53, 196, 75, 0.04);\n  }\n\n  #addButton .MuiCheckbox-colorSecondary.Mui-checked {\n    color: rgba(0, 0, 0, 0.54);\n  }\n\n  #addButton {\n    margin-top: -2%;\n  }\n\n  .itemDisplayed {\n    width: 79%;\n    padding: 0;\n    /* margin-top: 2.5%; */\n    /* margin-bottom: 2.5%; */\n    resize: none;\n    border: none;\n    font-size: 12px;\n    font-family: sans-serif;\n    background-color: transparent;\n  }\n\n  .itemDisplayedCompleted {\n    width: 79%;\n    padding: 0;\n    /* margin-top: 2.5%; */\n    /* margin-bottom: 2.5%; */\n    resize: none;\n    border: none;\n    font-size: 12px;\n    font-family: sans-serif;\n    background-color: transparent;\n    margin-top: 0.7em;\n    margin-bottom: 0.2em;\n  }\n  .todoItems {\n    display: flex;\n    margin-top: -1.8%;\n    /* padding-left: 3%; */\n  }\n\n  .completedItems {\n    display: flex;\n    padding-left: 3%;\n    margin-top: -1.7%;\n  }\n  #checklist {\n    /* overflow: scroll; */\n    height: 32.33vh;\n    border-radius: 15px;\n    /* border: 0.8vh solid #ebeef2; */\n    background-color: white;\n    border: 1px solid #adadad;\n  }\n  #todoList {\n    display: flex;\n  }\n\n  #todos {\n    height: 25vh;\n    overflow: scroll;\n    width: 95%;\n    padding-left: 3%;\n  }\n\n  .PrivateSwitchBase-root-16 {\n    padding: 7px;\n  }\n  #todo {\n    width: 100%;\n  }\n\n  #completed {\n    height: 25vh;\n    overflow: scroll;\n    width: 97%;\n  }\n`;\n\nexport default Checklist;\n"]},"metadata":{},"sourceType":"module"}