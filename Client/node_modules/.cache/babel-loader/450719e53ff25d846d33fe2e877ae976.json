{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _classCallCheck from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n\\n#loader{\\n  text-align: center;\\n  margin-top: 10vh;\\n}\\n\\n  .item {\\n    /* color: white; */\\n\\n    /* height: 200px;\\n    margin: 20px; */\\n    position: absolute; /* Required by Muuri */\\n    /* width: 200px; */\\n    width: 33.3%;\\n    height: 33.3vh;\\n    margin: auto;\\n  }\\n\\n  .item-content {\\n    margin-top: 0.6%;\\n    margin-left: 0.25%;\\n    margin-right: 0.25%;\\n  }\\n  .google {\\n  }\\n  .muuri-item-dragging {\\n    z-index: 3; /* Required by Muuri */\\n  }\\n\\n  .muuri-item-releasing {\\n    z-index: 2; /* Required by Muuri */\\n  }\\n\\n  .muuri-item-hidden {\\n    z-index: 0; /* Required by Muuri */\\n  }\\n\\n  .box1 {\\n    background-color: lightpink; /* Go */\\n  }\\n\\n  .box2 {\\n    background-color: lightblue; /* Gators */\\n  }\\n\\n  @media only screen and (min-width: 0px) and (max-width: 600px) { \\n    .item{\\n      width: 100%;\\n      height: 33.3vh;\\n    }\\n  \\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React from\"react\";import styled from\"styled-components\";import MuuriGrid from\"react-muuri\";import Weather from\"./Weather\";import Google from\"./Google\";import Yelp from\"./Yelp\";import Bing from\"./Bing\";import Yahoo from\"./Yahoo\";import Checklist from\"./Checklist\";import Login from\"./Login\";import API from\"./utils/API\";import Words from\"./Words\";import Settings from\"./Settings\";import Stocks from\"./Stocks\";import Gif from\"./Gif\";import News from\"./News\";import Maps from\"./Maps\";import Streaming from\"./Streaming\";import Calculator from\"./Calculator\";import ClipLoader from\"react-spinners/ClipLoader\";import{getFromStorage,setInStorage}from\"./utils/storage\";var Grid2=/*#__PURE__*/function(_React$Component){_inherits(Grid2,_React$Component);var _super=_createSuper(Grid2);function Grid2(props){var _this;_classCallCheck(this,Grid2);_this=_super.call(this,props);_this.state={isLoggedIn:false,token:\"\",userId:\"\",isLoading:true,grid:[/*#__PURE__*/React.createElement(Yelp,null),/*#__PURE__*/React.createElement(Maps,null),/*#__PURE__*/React.createElement(Gif,null),/*#__PURE__*/React.createElement(Google,null),/*#__PURE__*/React.createElement(Streaming,null),/*#__PURE__*/React.createElement(Calculator,null),/*#__PURE__*/React.createElement(Weather,null),/*#__PURE__*/React.createElement(Words,null),/*#__PURE__*/React.createElement(News,null)],uerGrid:[]};_this.retrieveGrid=function(i){if(i){i.preventDefault();}var id=_this.state.userId;API.retrieve(id).then(function(res){if(res.data.grid.length>0){var gridArray=res.data.grid.map(function(item){return item.widget;});var _Map={Yelp:Yelp,Google:Google,Weather:Weather,Login:Login,Settings:Settings,Bing:Bing,Yahoo:Yahoo,Checklist:Checklist,Words:Words,Maps:Maps,Stocks:Stocks,News:News,Gif:Gif,Streaming:Streaming,Calculator:Calculator};var newGridArray=gridArray.map(function(item){var Tagname=_Map[item];return/*#__PURE__*/React.createElement(Tagname,null);});_this.setState({grid:newGridArray,isLoading:false});}else{_this.setState({grid:_this.state.grid,isLoading:false});}});};_this.verify=function(i){if(i){i.preventDefault();}var obj=getFromStorage(\"the_main_app\");if(obj&&obj.token){var token=obj.token;// Verify token\nAPI.verify(token).then(function(res){if(res){_this.setState({token:token,isLoggedIn:true,userId:res.data.userId});_this.retrieveGrid();}else{_this.setState({isLoading:true});}});}else{_this.setState({isLoading:false,isLoggedIn:false});}};_this.updateGridState=function(data){var removed=_this.state.grid.splice(data.fromIndex,1)[0];// you can remove more than one...\n_this.state.grid.splice(data.toIndex,0,removed);var grid=_this.state.grid.map(function(item){return{widget:item.type.name};});if(_this.state.isLoggedIn){var id=_this.state.userId;API.update(id,grid).then(function(res){if(res){}});}};return _this;}_createClass(Grid2,[{key:\"componentDidMount\",value:function componentDidMount(){this.verify();this.grid=new MuuriGrid({node:this.gridElement,defaultOptions:{dragEnabled:true// See Muuri's documentation for other option overrides.\n}});// set callback on move\nthis.grid.getEvent(\"move\",null,null,this.updateGridState);}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Style,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{ref:function ref(gridElement){return _this2.gridElement=gridElement;}},this.state.isLoading?this.state.grid.map(function(components){return/*#__PURE__*/React.createElement(\"div\",{className:\"item box\"},/*#__PURE__*/React.createElement(\"div\",{id:\"loader\",className:\"item-content\"},\" \",/*#__PURE__*/React.createElement(ClipLoader,{size:50,color:\"#6342f5\"})));}):this.state.grid.map(function(components){return/*#__PURE__*/React.createElement(\"div\",{className:\"item box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"item-content\"},components));}))));}}]);return Grid2;}(React.Component);var Style=styled.section(_templateObject());export default Grid2;","map":{"version":3,"sources":["/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/src/Grid2.js"],"names":["React","styled","MuuriGrid","Weather","Google","Yelp","Bing","Yahoo","Checklist","Login","API","Words","Settings","Stocks","Gif","News","Maps","Streaming","Calculator","ClipLoader","getFromStorage","setInStorage","Grid2","props","state","isLoggedIn","token","userId","isLoading","grid","uerGrid","retrieveGrid","i","preventDefault","id","retrieve","then","res","data","length","gridArray","map","item","widget","Map","newGridArray","Tagname","setState","verify","obj","updateGridState","removed","splice","fromIndex","toIndex","type","name","update","node","gridElement","defaultOptions","dragEnabled","getEvent","components","Component","Style","section"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport MuuriGrid from \"react-muuri\";\nimport Weather from \"./Weather\";\nimport Google from \"./Google\";\nimport Yelp from \"./Yelp\";\nimport Bing from \"./Bing\";\nimport Yahoo from \"./Yahoo\";\nimport Checklist from \"./Checklist\";\nimport Login from \"./Login\";\nimport API from \"./utils/API\";\nimport Words from \"./Words\";\nimport Settings from \"./Settings\";\nimport Stocks from \"./Stocks\";\nimport Gif from \"./Gif\";\nimport News from \"./News\";\nimport Maps from \"./Maps\";\nimport Streaming from \"./Streaming\";\nimport Calculator from \"./Calculator\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nimport { getFromStorage, setInStorage } from \"./utils/storage\";\n\nclass Grid2 extends React.Component {\n  state = {\n    isLoggedIn: false,\n    token: \"\",\n    userId: \"\",\n    isLoading: true,\n    grid: [\n      <Yelp />,\n      <Maps />,\n      <Gif />,\n      <Google />,\n      <Streaming />,\n      <Calculator />,\n      <Weather />,\n      <Words />,\n      <News />\n    ],\n    uerGrid: []\n  };\n\n  constructor(props) {\n    super(props);\n  }\n  retrieveGrid = i => {\n    if (i) {\n      i.preventDefault();\n    }\n    const id = this.state.userId;\n\n    API.retrieve(id).then(res => {\n      if (res.data.grid.length > 0) {\n       \n        const gridArray = res.data.grid.map(item => item.widget);\n      \n        const Map = {\n          Yelp: Yelp,\n          Google: Google,\n          Weather: Weather,\n          Login: Login,\n          Settings: Settings,\n          Bing: Bing,\n          Yahoo: Yahoo,\n          Checklist: Checklist,\n          Words: Words,\n          Maps: Maps,\n          Stocks: Stocks,\n          News: News,\n          Gif: Gif,\n          Streaming: Streaming,\n          Calculator: Calculator\n     \n\n        };\n        const newGridArray = gridArray.map(item => {\n          let Tagname = Map[item];\n          return <Tagname />;\n        });\n        this.setState({\n          grid: newGridArray,\n          isLoading: false\n        });\n      } else {\n        this.setState({\n          grid: this.state.grid,\n          isLoading: false\n        });\n      }\n    });\n  };\n\n  verify = i => {\n    if (i) {\n      i.preventDefault();\n    }\n    const obj = getFromStorage(\"the_main_app\");\n    if (obj && obj.token) {\n      const { token } = obj;\n      // Verify token\n      API.verify(token).then(res => {\n        if (res) {\n        \n          this.setState({\n            token: token,\n            isLoggedIn: true,\n            userId: res.data.userId\n          });\n     \n          this.retrieveGrid();\n        } else {\n          this.setState({\n            isLoading: true\n          });\n        }\n      });\n    } else {\n    \n      this.setState({\n        isLoading: false,\n        isLoggedIn: false\n      });\n    }\n  };\n\n  updateGridState = data => {\n\n    let removed = this.state.grid.splice(data.fromIndex, 1)[0]; // you can remove more than one...\n    this.state.grid.splice(data.toIndex, 0, removed);\n\n    let grid = this.state.grid.map(item => {\n      return { widget: item.type.name };\n    });\n \n\n    if (this.state.isLoggedIn) {\n  \n      const id = this.state.userId;\n      API.update(id, grid).then(res => {\n        if (res) {\n     \n        }\n      });\n    }\n  };\n\n  componentDidMount() {\n    this.verify();\n\n    this.grid = new MuuriGrid({\n      node: this.gridElement,\n      defaultOptions: {\n        dragEnabled: true // See Muuri's documentation for other option overrides.\n      }\n    });\n    // set callback on move\n    this.grid.getEvent(\"move\", null, null, this.updateGridState);\n  }\n\n  render() {\n\n    return (\n      <Style>\n        <div>\n          {/* Assign a ref to the grid container so the virtual DOM will ignore it for now (WIP). */}\n\n          <div ref={gridElement => (this.gridElement = gridElement)}>\n            {this.state.isLoading\n              ? this.state.grid.map(components => (\n                  <div className=\"item box\">\n                    <div id=\"loader\" className=\"item-content\"> <ClipLoader\n                          size={50}\n                          color={\"#6342f5\"}\n                        /></div>\n                  </div>\n                ))\n              : this.state.grid.map(components => (\n                  <div className=\"item box\">\n                    <div className=\"item-content\">{components}</div>\n                  </div>\n                ))}\n\n            {/* {this.state.isLoggedIn &&\n            this.state.userGrid.length != undefined\n              ? this.state.userGrid.map(components => (\n                  <div className=\"item box\">\n                    <div className=\"item-content\">\n                      {components}\n                    </div>\n                  </div>\n                ))\n              : this.state.grid.map(components => (\n                  <div className=\"item box\">\n                    <div className=\"item-content\">\n                      {components}\n                    </div>\n                  </div>\n                ))} */}\n          </div>\n        </div>\n      </Style>\n    );\n  }\n}\n\nconst Style = styled.section`\n\n#loader{\n  text-align: center;\n  margin-top: 10vh;\n}\n\n  .item {\n    /* color: white; */\n\n    /* height: 200px;\n    margin: 20px; */\n    position: absolute; /* Required by Muuri */\n    /* width: 200px; */\n    width: 33.3%;\n    height: 33.3vh;\n    margin: auto;\n  }\n\n  .item-content {\n    margin-top: 0.6%;\n    margin-left: 0.25%;\n    margin-right: 0.25%;\n  }\n  .google {\n  }\n  .muuri-item-dragging {\n    z-index: 3; /* Required by Muuri */\n  }\n\n  .muuri-item-releasing {\n    z-index: 2; /* Required by Muuri */\n  }\n\n  .muuri-item-hidden {\n    z-index: 0; /* Required by Muuri */\n  }\n\n  .box1 {\n    background-color: lightpink; /* Go */\n  }\n\n  .box2 {\n    background-color: lightblue; /* Gators */\n  }\n\n  @media only screen and (min-width: 0px) and (max-width: 600px) { \n    .item{\n      width: 100%;\n      height: 33.3vh;\n    }\n  \n  }\n`;\n\nexport default Grid2;\n"]},"metadata":{},"sourceType":"module"}