{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _classCallCheck from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n#symbolTicker{\\nmargin:0;\\nalign-self: flex-end;\\nfont-size: 0.95em;\\nmargin-right: 2%;\\nmargin-left: 2%;\\n}\\n\\n#descriptionTicker{\\n    margin:0;\\n    text-transform: capitalize;\\n    align-self: flex-end;\\n    font-size: 0.7em;\\n    \\n}\\n\\n#autocompleteOption{\\n   margin: 0.25% 1.5% 0 2%;\\n   padding-bottom: 1%;\\n\\n}\\n\\n#autocompleteOption:hover{\\n    background-color: #3b3b3b;\\n    cursor: pointer;\\n}\\n\\n#stockBox{\\n    height: 32.33vh;\\n    border-radius: 15px;\\n    border: 1px solid #black;\\n    background-color: black;\\n    color:white;\\n    overflow:scroll;\\n\\n}\\n\\n#autocompleteOption{\\n    display: flex;\\n    z-index: 100;\\n}\\n\\n#stockSearchInput{\\n    width: 94%;\\n    margin: 2vh 1.5% 0 2%;\\n    border-radius:5px;\\n    background-color:#3b3b3b;\\n    border: 0px;\\n    height: 4vh;\\n    color: white;\\n    padding-left: 2%;\\n};\\n\\n#stockSearchInput:focus{\\n outline:0;\\n decoration: none;\\n};\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{Component}from\"react\";import styled from\"styled-components\";import API from\"./utils/API\";var Stocks=/*#__PURE__*/function(_React$Component){_inherits(Stocks,_React$Component);var _super=_createSuper(Stocks);function Stocks(){var _this;_classCallCheck(this,Stocks);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={userInput:\"\",symbols:[],search:[],selected:\"\"};_this.handleChange=function(event){_this.setState({userInput:event.target.value},function(){_this.filterStocks();});};_this.handleKeyPress=function(event){if(event.key===\"Enter\"){// console.log('enter');\nif(_this.state.selected===\"\"){_this.setState({selected:_this.state.search[0].displaySymbol},function(){API.getDailyStocks(_this.state.selected).then(function(res){// console.log(res);\n});// console.log(this.state.selected);\n});}}};_this.setSelected=function(event){var selected=event.target.getAttribute(\"symb\");_this.setState({selected:selected,userInput:selected},function(){// console.log(this.state.selected);\nAPI.getDailyStocks(_this.state.selected).then(function(res){// console.log(res);\n});});};_this.retrieveStocks=function(i){if(i){i.preventDefault();}API.getStocks().then(function(res){var date=new Date();var newDate=date.getMonth()+\"-\"+date.getDate();if(newDate!==res.data[0].time){API.updateStocks().then(function(res){_this.setState({symbols:res.data},function(){// console.log(this.state.symbols);\n// console.log(\"updating mongo\");\nAPI.updateStocksMongo(\"5f42cd52e2e4a857ad161fd1\",_this.state.symbols).then(function(results){// console.log(results)\n});});});}else{_this.setState({symbols:res.data[0].stocks});// console.log(this.state.symbols)\n}// console.log(res);\n});};_this.filterStocks=function(){var data=_this.state.symbols;var input=_this.state.userInput.toUpperCase();data=data.filter(function(item){return item.description.includes(input)||item.displaySymbol.includes(input);});_this.setState({search:data});};return _this;}_createClass(Stocks,[{key:\"componentDidMount\",value:function componentDidMount(){this.retrieveStocks();}},{key:\"render\",value:function render(){var _this2=this;// console.log(this.state.userInput)\n// console.log(this.state.search)\nreturn/*#__PURE__*/React.createElement(Style,null,/*#__PURE__*/React.createElement(\"div\",{id:\"stockBox\"},/*#__PURE__*/React.createElement(\"div\",{id:\"stockSearch\"},/*#__PURE__*/React.createElement(\"input\",{onKeyPress:this.handleKeyPress,id:\"stockSearchInput\",onChange:this.handleChange}),this.state.search.length<1||this.state.userInput===\"\"?/*#__PURE__*/React.createElement(\"div\",null):/*#__PURE__*/React.createElement(\"div\",{id:\"autocomplete\"},this.state.search.slice(0,7).map(function(item){return/*#__PURE__*/React.createElement(\"div\",{onClick:_this2.setSelected,symb:item.displaySymbol,id:\"autocompleteOption\"},/*#__PURE__*/React.createElement(\"p\",{onClick:_this2.setSelected,symb:item.displaySymbol,id:\"symbolTicker\"},item.displaySymbol),/*#__PURE__*/React.createElement(\"p\",{onClick:_this2.setSelected,symb:item.displaySymbol,id:\"descriptionTicker\"},item.description.toLowerCase()));})))));}}]);return Stocks;}(React.Component);var Style=styled.section(_templateObject());export default Stocks;","map":{"version":3,"sources":["/Users/kristinhenno/Documents/Repositories/HomeGrid/home/client/src/Stocks.js"],"names":["React","Component","styled","API","Stocks","state","userInput","symbols","search","selected","handleChange","event","setState","target","value","filterStocks","handleKeyPress","key","displaySymbol","getDailyStocks","then","res","setSelected","getAttribute","retrieveStocks","i","preventDefault","getStocks","date","Date","newDate","getMonth","getDate","data","time","updateStocks","updateStocksMongo","results","stocks","input","toUpperCase","filter","item","description","includes","length","slice","map","toLowerCase","Style","section"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport API from \"./utils/API\";\n\nclass Stocks extends React.Component {\n  state = {\n    userInput: \"\",\n    symbols:[],\n    search: [],\n    selected: \"\"\n  };\n\n  \n  handleChange = event => {\n    this.setState({\n      userInput: event.target.value\n    }, () => {\n        this.filterStocks();\n  });\n  }\n\n  handleKeyPress = event => {\n \n    if (event.key === \"Enter\") {\n      // console.log('enter');\n      if (this.state.selected === \"\"){\nthis.setState({\n  selected: this.state.search[0].displaySymbol\n}, ()=>\n{\n  API.getDailyStocks(this.state.selected).then(res => {\n    // console.log(res);\n  })\n  // console.log(this.state.selected);\n})\n      } \n    }\n\n  };\n\n  setSelected = event => {\n    var selected = event.target.getAttribute(\"symb\")\n    this.setState({\n      selected: selected,\n      userInput: selected\n    }, ()=>\n    {\n      // console.log(this.state.selected);\n      API.getDailyStocks(this.state.selected).then(res => {\n        // console.log(res);\n      })\n    });\n    \n\n  };\n\n  retrieveStocks = i => {\n    if (i) {\n      i.preventDefault();\n    }\n\n\n\n  API.getStocks().then(res => {\n\n    var date = new Date();\n    var newDate = date.getMonth() + \"-\" + date.getDate();\n\n    if (newDate !== res.data[0].time)\n    {\n        API.updateStocks().then(res =>\n            {\n                this.setState({\n                    symbols: res.data\n                },() => {\n                    // console.log(this.state.symbols);\n                    // console.log(\"updating mongo\");\n                    API.updateStocksMongo(\"5f42cd52e2e4a857ad161fd1\", this.state.symbols).then(results =>\n                        {\n                            // console.log(results)\n                        })\n                  })\n            })\n    } else {\n        this.setState({\n            symbols: res.data[0].stocks\n        })\n        // console.log(this.state.symbols)\n    }\n  // console.log(res);\n    });\n    \n  };\n\n  filterStocks = () => {\n\n  var data = this.state.symbols;\n  var input = this.state.userInput.toUpperCase();\n\n  data = data.filter(function (item) {\n    return (item.description.includes(input) || item.displaySymbol.includes(input));\n}); \nthis.setState({\n    search: data\n})\n  }\n \n  componentDidMount() {\n   this.retrieveStocks();\n  }\n\n  render() {\n      // console.log(this.state.userInput)\n      // console.log(this.state.search)\n    return (\n      <Style>\n          <div id=\"stockBox\">\n        <div id=\"stockSearch\">\n       <input onKeyPress={this.handleKeyPress} id=\"stockSearchInput\" onChange={this.handleChange}></input>\n       {this.state.search.length < 1 || this.state.userInput === \"\" \n       ? \n       <div></div>\n        : \n        <div id=\"autocomplete\">   \n            {\nthis.state.search.slice(0, 7).map((item) => \n<div onClick={this.setSelected} symb={item.displaySymbol} id=\"autocompleteOption\">\n    <p onClick={this.setSelected} symb={item.displaySymbol} id=\"symbolTicker\">{item.displaySymbol}</p>\n<p onClick={this.setSelected} symb={item.displaySymbol} id=\"descriptionTicker\">{item.description.toLowerCase()}</p>\n</div>\n)\n            }\n            </div>}\n        </div>\n        </div>\n      </Style>\n    );\n  }\n}\n\nconst Style = styled.section`\n#symbolTicker{\nmargin:0;\nalign-self: flex-end;\nfont-size: 0.95em;\nmargin-right: 2%;\nmargin-left: 2%;\n}\n\n#descriptionTicker{\n    margin:0;\n    text-transform: capitalize;\n    align-self: flex-end;\n    font-size: 0.7em;\n    \n}\n\n#autocompleteOption{\n   margin: 0.25% 1.5% 0 2%;\n   padding-bottom: 1%;\n\n}\n\n#autocompleteOption:hover{\n    background-color: #3b3b3b;\n    cursor: pointer;\n}\n\n#stockBox{\n    height: 32.33vh;\n    border-radius: 15px;\n    border: 1px solid #black;\n    background-color: black;\n    color:white;\n    overflow:scroll;\n\n}\n\n#autocompleteOption{\n    display: flex;\n    z-index: 100;\n}\n\n#stockSearchInput{\n    width: 94%;\n    margin: 2vh 1.5% 0 2%;\n    border-radius:5px;\n    background-color:#3b3b3b;\n    border: 0px;\n    height: 4vh;\n    color: white;\n    padding-left: 2%;\n};\n\n#stockSearchInput:focus{\n outline:0;\n decoration: none;\n};`\n\n\nexport default Stocks;\n"]},"metadata":{},"sourceType":"module"}