{"version":3,"file":"use-focus-trap.js","sources":["../../../utils/use-focus-trap.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport createFocusTrap, { FocusTrap } from 'focus-trap';\n\nfunction toggleTrap(trap: FocusTrap, isActive: boolean): void {\n    if (isActive) {\n        trap.activate();\n    } else {\n        trap.deactivate();\n    }\n}\n\n/**\n * React Hook for trapping the focus inside a particular DOM element. Useful for building modal\n * components.\n *\n * @param element  The element to trap focus inside of\n * @param isActive Whether or not to activate the trap\n */\nexport default function useFocusTrap(element: HTMLElement | null, isActive = false): void {\n    const [trap, setTrap] = useState<FocusTrap>();\n\n    useEffect((): (() => void) => {\n        // If we've already created a trap, toggle it based on the isActive status\n        if (trap) {\n            toggleTrap(trap, isActive);\n            // Otherwise, if there's no trap, but there is a valid element that needs to be trapped\n        } else if (element) {\n            // Create the trap and store a reference to it\n            const newTrap = createFocusTrap(element, {\n                clickOutsideDeactivates: true,\n                // Set initial focus to the modal wrapper itself instead of focusing on the first\n                // focusable element by default\n                initialFocus: element,\n            });\n            setTrap(newTrap);\n            // And toggle it based on isActive status\n            toggleTrap(newTrap, isActive);\n        }\n\n        // When the component unmounts, we deactivate the trap, if there is one\n        return (): void => {\n            if (trap) {\n                trap.deactivate();\n            }\n        };\n    }, [element, isActive, trap]);\n}\n"],"names":["toggleTrap","trap","isActive","activate","deactivate","useFocusTrap","element","useState","setTrap","useEffect","newTrap","createFocusTrap","clickOutsideDeactivates","initialFocus"],"mappings":";;;;AAGA,SAASA,UAAT,CAAoBC,IAApB,EAAqCC,QAArC,EAA8D;MACtDA,QAAJ,EAAc;IACVD,IAAI,CAACE,QAAL;GADJ,MAEO;IACHF,IAAI,CAACG,UAAL;;;;;;;;;;;;AAWR,AAAe,SAASC,YAAT,CAAsBC,OAAtB,EAA2E;MAAxBJ,QAAwB,uEAAb,KAAa;;kBAC9DK,QAAQ,EADsD;;MAC/EN,IAD+E;MACzEO,OADyE;;EAGtFC,SAAS,CAAC,YAAoB;;QAEtBR,IAAJ,EAAU;MACND,UAAU,CAACC,IAAD,EAAOC,QAAP,CAAV,CADM;KAAV,MAGO,IAAII,OAAJ,EAAa;;UAEVI,OAAO,GAAGC,eAAe,CAACL,OAAD,EAAU;QACrCM,uBAAuB,EAAE,IADY;;;QAIrCC,YAAY,EAAEP;OAJa,CAA/B;MAMAE,OAAO,CAACE,OAAD,CAAP,CARgB;;MAUhBV,UAAU,CAACU,OAAD,EAAUR,QAAV,CAAV;KAfsB;;;WAmBnB,YAAY;UACXD,IAAJ,EAAU;QACNA,IAAI,CAACG,UAAL;;KAFR;GAnBK,EAwBN,CAACE,OAAD,EAAUJ,QAAV,EAAoBD,IAApB,CAxBM,CAAT;;;;;"}